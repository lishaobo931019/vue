webpackJsonp([1],{"+0cf":function(t,e){},0:function(t,e,a){a("j1ja"),t.exports=a("NHnr")},"2HQN":function(t,e){},"4kvQ":function(t,e){},"77sN":function(t,e){},"7uyx":function(t,e){},BtZK:function(t,e){},CU7x:function(t,e){},"D/Ns":function(t,e){},EFXb:function(t,e){},EUpP:function(t,e){},Eltq:function(t,e){},GBae:function(t,e){},H0Ze:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},o,!1,function(t){a("z62K")},null,null).exports,n=a("/ocq"),s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("div",{staticClass:"login"},[e("h1",[this._v("航凯电力")]),this._v(" "),e("form",{attrs:{id:"loginFrom",method:"get"}},[e("input",{attrs:{type:"text",id:"staffId",name:"staffId",placeholder:"工号",required:"required"}}),this._v(" "),e("input",{attrs:{type:"password",id:"pwd",name:"pwd",placeholder:"密码",required:"required"}}),this._v(" "),e("button",{staticClass:"btn btn-primary btn-block btn-large",attrs:{type:"button",onclick:"loginSubmit()"}},[this._v("登录")])])])])}]};var l=a("VU/8")({name:"HelloWorld",data:function(){return{}}},s,!1,function(t){a("Eltq")},"data-v-2c921bb7",null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:""}},[e("div",{attrs:{id:"logo"}})])}]};var c={name:"Leftaside",methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},toMarketInfo:function(){this.$router.push({path:"/home/marketInformation",query:{}})},toMarketTarck:function(){this.$router.push({path:"/home/marketTracking",query:{}})},toRelationship:function(){this.$router.push({path:"/home/relationship",query:{}})},toTrackInfo:function(){this.$router.push({path:"/home/trackinginformation",query:{}})},toAddPersonInfo:function(){this.$router.push({path:"/home/addPersonInfomation",query:{}})},toContractInfo:function(){this.$router.push({path:"/home/contractinfo",query:{}})},toContractlist:function(){this.$router.push({path:"/home/contractlist",query:{}})},toAddContractInfo:function(){this.$router.push({path:"/home/addcontract",query:{}})},toBiddingInfo:function(){this.$router.push({path:"/home/BiddingInfo",query:{}})},toBiddinglist:function(){this.$router.push({path:"/home/Biddinglist",query:{}})},addBiddingInfo:function(){this.$router.push({path:"/home/addBidding",query:{}})},userManagement:function(){this.$router.push({path:"/home/usermanagement",query:{}})},addUser:function(){this.$router.push({path:"/home/adduser",query:{}})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),t._v(" "),a("span",{staticClass:"yijibiaoti"},[t._v("市场管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"},on:{click:t.toMarketInfo}},[t._v("市场信息汇总")]),t._v(" "),a("el-menu-item",{attrs:{index:"1-2"},on:{click:t.toMarketTarck}},[t._v("市场跟踪")]),t._v(" "),a("el-menu-item",{attrs:{index:"1-3"},on:{click:t.toRelationship}},[t._v("关系搜索")]),t._v(" "),a("el-menu-item",{attrs:{index:"1-4"},on:{click:t.toTrackInfo}},[t._v("添加市场跟踪信息")]),t._v(" "),a("el-menu-item",{attrs:{index:"1-5"},on:{click:t.toAddPersonInfo}},[t._v("添加新联系人资源")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{staticClass:"yijibiaoti"},[t._v("合同管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"},on:{click:t.toContractInfo}},[t._v("合同信息汇总")]),t._v(" "),a("el-menu-item",{attrs:{index:"2-2"},on:{click:t.toContractlist}},[t._v("合同信息列表")]),t._v(" "),a("el-menu-item",{attrs:{index:"2-3"},on:{click:t.toAddContractInfo}},[t._v("添加合同信息")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{staticClass:"yijibiaoti"},[t._v("投招标管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"},on:{click:t.toBiddingInfo}},[t._v("投招标信息汇总")]),t._v(" "),a("el-menu-item",{attrs:{index:"3-2"},on:{click:t.toBiddinglist}},[t._v("投招标信息列表")]),t._v(" "),a("el-menu-item",{attrs:{index:"3-3"},on:{click:t.addBiddingInfo}},[t._v("新建招投标信息")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),t._v(" "),a("span",{staticClass:"yijibiaoti"},[t._v("系统管理")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"},on:{click:t.userManagement}},[t._v("用户管理")]),t._v(" "),a("el-menu-item",{attrs:{index:"4-2"},on:{click:t.addUser}},[t._v("添加用户")])],1)],2)],1)],1)},staticRenderFns:[]};var u={name:"home",components:{Header:a("VU/8")({name:"Header",data:function(){return{input:"",chuxian:!1}},methods:{sousuo:function(){this.chuxian=!0}}},d,!1,function(t){a("cxj1")},null,null).exports,Leftaside:a("VU/8")(c,m,!1,function(t){a("GBae")},null,null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"bigbox"}},[e("el-container",[e("el-header",[e("Header")],1),this._v(" "),e("el-container",[e("el-aside",{staticStyle:{overflow:"hidden"},attrs:{width:"200px"}},[e("Leftaside")],1),this._v(" "),e("el-main",[e("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(u,p,!1,function(t){a("PbOw")},null,null).exports,v={name:"marketInformation",data:function(){return{}},mounted:function(){var t=this.echarts.init(document.getElementById("seaseonContainer")),e=this.echarts.init(document.getElementById("monthContainer")),a=this.echarts.init(document.getElementById("diquContainer")),r=this.echarts.init(document.getElementById("pianquContainer"));t.setOption({title:{show:!0,x:"center",text:"季度出访次数"},color:["#003366","#006699","#4cabce","#4cacaa"],tooltip:{},legend:{y:"bottom",data:["第一季度","第二季度","第三季度","第四季度"]},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} 次"}},series:[{barGap:"5%",name:"第一季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{name:"第二季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{name:"第三季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{name:"第四季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}}]}),this.$http.seasonVisit().then(function(e){console.log(e),t.setOption({xAxis:{data:e.data.years},series:[{name:"第一季度",data:e.data.q1},{name:"第二季度",data:e.data.q2},{name:"第三季度",data:e.data.q3},{name:"第四季度",data:e.data.q4}]})}),e.setOption({title:{text:"月度出访次数",x:"center"},color:["#4cacaa"],tooltip:{},legend:{data:["出访次数"],y:"bottom"},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} 次"}},series:[{name:"出访次数",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}}]}),this.$http.MonthVisit().then(function(t){console.log(t),e.setOption({xAxis:{data:t.data.titles},series:[{name:"出访次数",data:t.data.pillars}]})}),a.setOption({title:{show:!0,x:"center",text:"地区出访比例"},legend:{y:"bottom",data:[]},series:[{name:"按地区出访比例",type:"pie",radius:["30%","40%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:"{b} : {c}次({d}%)"},labelLine:{show:!0}}}}]}),a.showLoading(),this.$http.diquVisit().then(function(t){console.log(t),a.hideLoading(),a.setOption({legend:{data:t.data.category},series:[{name:"出访次数",data:t.data.pie}]})}),r.setOption({title:{show:!0,x:"center",text:"片区出访比例"},legend:{y:"bottom",data:[]},series:[{name:"按地区出访比例",type:"pie",radius:["30%","40%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:"{b} : {c}次({d}%)"},labelLine:{show:!0}}}}]}),r.showLoading(),this.$http.pianquVisit().then(function(t){r.hideLoading(),r.setOption({legend:{data:t.data.category},series:[{name:"出访次数",data:t.data.pie}]})})}},g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"echartMarket"}},[e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"seaseonContainer"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"monthContainer"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"diquContainer"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"pianquContainer"}})])])}]};var h=a("VU/8")(v,g,!1,function(t){a("ilxe")},null,null).exports,b=a("mvHQ"),y=a.n(b),_=a("bOdI"),C=a.n(_),w={name:"Marketedit",data:function(){var t;return t={trackform:{},checkbox:[],namelist:[],userid:[],id:[],surveyObject:null,responsiblePerson:null,workCategoryModel:null,feedbackCategoryModel:null,areaCategory:null,regionCategory:null,surveyStartTime:null,surveyDays:null,workContent:null,feedback:null,comment:null},C()(t,"responsiblePerson",null),C()(t,"files",null),C()(t,"workCategoryList",[]),C()(t,"regionCategoryList",[]),C()(t,"feedbackCategoryList",[]),C()(t,"areaCategoryList",[]),C()(t,"postform",{}),t},props:["childMsg"],methods:{cancel:function(){this.$emit("marketedittwo",!1)},tijiao:function(){var t=this;t.postform.surveyObject=t.surveyObject,t.postform.responsiblePerson=t.responsiblePerson,t.postform.workCategory=t.workCategoryModel,t.postform.feedbackCategory=t.feedbackCategoryModel,t.postform.area=t.areaCategory,t.postform.region=t.regionCategory,t.postform.surveyStartTime=t.surveyStartTime,t.postform.surveyDays=t.surveyDays,t.postform.workContent=t.workContent,t.postform.feedback=t.feedback,t.postform.comment=t.comment,t.postform.id=t.childMsg,t.postform.surveyStartTime=Date.parse(new Date(t.postform.surveyStartTime)).toString();for(var e=[],a=0;a<this.checkbox.length;a++)for(var r=0;r<this.namelist.length;r++)this.checkbox[a]==this.namelist[r].name&&e.push(this.namelist[r].id);t.postform.investigators=e,this.$validator.validateAll().then(function(e){e&&(console.log(e),t.$http.updateMarketUrl(t.postform).then(function(t){console.log(t),window.location.reload()}).catch(function(t){console.log(t)}))})}},created:function(){var t=this;console.log(this.childMsg),this.id=this.childMsg;var e=new FormData;e.append("id",this.id),this.$http.marketDetail(e).then(function(e){console.log(e),t.surveyObject=e.data.surveyObject,t.responsiblePerson=e.data.responsiblePerson,t.workCategoryModel=e.data.workCategoryModel.id,t.feedbackCategoryModel=e.data.feedbackCategoryModel.id,t.areaCategory=e.data.areaCategory.id,t.regionCategory=e.data.regionCategory.id,t.surveyStartTime=e.data.surveyStartTime,t.surveyStartTime=t.NumConvertUtil.formatDate2(t.surveyStartTime),t.surveyDays=e.data.surveyDays,t.workContent=e.data.workContent,t.feedback=e.data.feedback,t.comment=e.data.comment,t.responsiblePerson=e.data.responsiblePerson,t.files=e.data.files;for(var a=e.data.investigatorList,r=0;r<a.length;r++)t.id=a[r].user.id}),this.$http.Investigator().then(function(e){t.namelist=e.data,t.userid=e.data.id;for(var a=e.data,r=0;r<a.length;r++)t.userid=a[r].id}),this.$http.MarketSearchCategory().then(function(e){t.areaCategoryList=e.data.areaCategoryList,t.feedbackCategoryList=e.data.feedbackCategoryList,t.regionCategoryList=e.data.regionCategoryList,t.workCategoryList=e.data.workCategoryList})}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:""}},[a("div",{attrs:{id:"marketedit"}},[a("input",{ref:"fileCategory",attrs:{type:"hidden",value:"market"}}),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{attrs:{align:"center",colSpan:"4",bgColor:"#f5fafe"}},[a("font",{attrs:{face:"宋体",size:"2"}},[a("strong",[t._v("添加新的市场跟踪报告")])])],1)]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("拜访对象:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyObject,expression:"surveyObject"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",id:"surveyObject",required:"",name:"name1"},domProps:{value:t.surveyObject},on:{input:function(e){e.target.composing||(t.surveyObject=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("责任人:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.responsiblePerson,expression:"responsiblePerson"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",id:"responsiblePerson",required:"",name:"name2"},domProps:{value:t.responsiblePerson},on:{input:function(e){e.target.composing||(t.responsiblePerson=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name2"),expression:"errors.has('name2')"}],staticClass:"tipsinfo"},[t._v("不能为空")])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("任务类型:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.workCategoryModel,expression:"workCategoryModel"}],staticStyle:{width:"170px"},attrs:{id:"workCategory",name:"workCategory",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.workCategoryModel=e.target.multiple?a:a[0]}}},t._l(t.workCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("反馈类型:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.feedbackCategoryModel,expression:"feedbackCategoryModel"}],staticStyle:{width:"170px"},attrs:{id:"feedbackCategory",name:"feedbackCategory",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.feedbackCategoryModel=e.target.multiple?a:a[0]}}},t._l(t.feedbackCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("地区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.areaCategory,expression:"areaCategory"}],staticStyle:{width:"170px"},attrs:{id:"area",name:"area",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.areaCategory=e.target.multiple?a:a[0]}}},t._l(t.areaCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("片区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.regionCategory,expression:"regionCategory"}],staticStyle:{width:"170px"},attrs:{id:"region",name:"region",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.regionCategory=e.target.multiple?a:a[0]}}},t._l(t.regionCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("拜访起始时间:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyStartTime,expression:"surveyStartTime"}],attrs:{type:"date",id:"surveyStartTime",required:""},domProps:{value:t.surveyStartTime},on:{input:function(e){e.target.composing||(t.surveyStartTime=e.target.value)}}})]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("拜访天数:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyDays,expression:"surveyDays"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",id:"surveyDays",required:"",name:"name4"},domProps:{value:t.surveyDays},on:{input:function(e){e.target.composing||(t.surveyDays=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name4"),expression:"errors.has('name4')"}],staticClass:"tipsinfo"},[t._v("不能为空")])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("任务内容:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.workContent,expression:"workContent"}],attrs:{id:"workContent",name:"workContent",placeholder:"请输入任务内容",cols:"80%",rows:"8",required:""},domProps:{value:t.workContent},on:{input:function(e){e.target.composing||(t.workContent=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("反馈情况:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feedback,expression:"feedback"}],attrs:{id:"feedback",name:"feedback",placeholder:"请输入反馈情况",cols:"80%",rows:"8",required:""},domProps:{value:t.feedback},on:{input:function(e){e.target.composing||(t.feedback=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{id:"comment",name:"comment",placeholder:"请输入备注",cols:"80%",rows:"8",required:""},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("调查人:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("el-form",{ref:"form",attrs:{model:t.trackform,"label-width":"10px",size:"mini"}},[a("el-form-item",{staticClass:"box"},[a("el-checkbox-group",{model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}},t._l(t.namelist,function(t){return a("el-checkbox",{attrs:{label:t.name,value:"item.id",name:"type"}})}))],1)],1)],1)]),t._v(" "),a("tr",[a("td",{attrs:{lclass:"ta_01",bgColor:"#f5fafe",colSpan:"4"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.tijiao}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("关闭")])],1)],1)])])])])},staticRenderFns:[]};var k={name:"Marketsee",data:function(){return{id:null,fileCategory:null,surveyObject:null,responsiblePerson:null,workCategoryModel:null,feedbackCategoryModel:null,areaCategory:null,regionCategory:null,surveyStartTime:null,surveyDays:null,workContent:null,feedback:null,comment:null,investigatorList:null,files:null}},props:["childMsg"],methods:{close:function(){this.$emit("marketseetwo",!1)},yulan:function(t){var e,a=this.$refs.fileCategory.value;e=this.$http.previewFileUrl+a+"/"+this.id+"/"+t,window.open(e,"newWindow","height=500, width=800, toolbar =no, menubar=no, scrollbars=yes, resizable=yes, location=no, status=no")},download:function(t){var e,a=this.$refs.fileCategory.value;e=this.$http.downloadWebFile+a+"/"+this.id+"/"+t,window.location.href=e}},created:function(){var t=this;console.log(this.childMsg);var e=this.childMsg;this.$http.getMarketdetail(e).then(function(e){console.log(e),t.id=e.data.id,t.surveyObject=e.data.surveyObject,t.responsiblePerson=e.data.responsiblePerson,t.workCategoryModel=e.data.workCategoryModel.category,t.feedbackCategoryModel=e.data.feedbackCategoryModel.category,t.areaCategory=e.data.areaCategory.category,t.regionCategory=e.data.regionCategory.category,t.surveyStartTime=e.data.surveyStartTime,t.surveyStartTime=t.NumConvertUtil.formatDate2(t.surveyStartTime),t.surveyDays=e.data.surveyDays,t.workContent=e.data.workContent,t.feedback=e.data.feedback,t.comment=e.data.comment,t.investigatorList=e.data.investigatorList,t.files=e.data.files})}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"marketseezhezhaoceng"}},[a("div",{attrs:{id:"marketsee"}},[a("input",{ref:"fileCategory",attrs:{type:"hidden",value:"market"}}),t._v(" "),a("h5",[t._v("\n\t\t\t\t市场跟踪报告\n\t\t\t")]),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("拜访对象:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.surveyObject))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("责任人:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.responsiblePerson))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("任务类型:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.workCategoryModel))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("反馈类型:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.feedbackCategoryModel))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("地区:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.areaCategory))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("片区:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.regionCategory))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("拜访起止时间:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.surveyStartTime))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("拜访天数:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.surveyDays))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("任务内容:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"workContent"}},[t._v(t._s(t.workContent))])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("反馈情况:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"feedback"}},[t._v(t._s(t.feedback))])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"comment"}},[t._v(t._s(t.comment))])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("信息汇总")]),t._v(" "),a("td",{attrs:{colSpan:"4",align:"left",bgColor:"#f5fafe"}},t._l(t.files,function(e){return a("div",[a("span",[t._v(t._s(e))]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.download(e)}}},[t._v("下载")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.yulan(e)}}},[t._v("预览")])])}))]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("调查人")]),t._v(" "),a("td",{attrs:{colSpan:"3",align:"left,center",bgColor:"#f5fafe"}},t._l(t.investigatorList,function(e){return a("span",{staticStyle:{"margin-right":"10px"},attrs:{id:""}},[t._v(t._s(e.user.name))])}))]),t._v(" "),a("tr",[a("td",{attrs:{lclass:"ta_01",bgColor:"#f5fafe",colSpan:"4"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.close}},[t._v("关闭")])],1)],1)])])])])},staticRenderFns:[]};var P={components:{marketedit:a("VU/8")(w,x,!1,function(t){a("EFXb")},null,null).exports,marketsee:a("VU/8")(k,L,!1,function(t){a("NsTw")},null,null).exports},data:function(){return{id:null,marketedit:!1,marketsee:!1,currentPage1:1,currentPage2:5,currentPage3:5,currentPage4:4,marketForm:{surveyObject:"",responsiblePerson:"",workCategory:"",feedbackCategory:"",area:"",region:"",surveyStartTime:"",surveyEndTime:"",sort:"surveyStartTime",order:"desc",page:1,rows:10},inputMarketForm:{surveyObject:"",responsiblePerson:"",workCategory:"",feedbackCategory:"",area:"",region:"",surveyStartTime:"",surveyEndTime:"",sort:"surveyStartTime",order:"desc",page:1,rows:10},totalNum:0,workCategoryList:[],feedbackCategoryList:[],areaCategoryList:[],regionCategoryList:[],markettableData:[{}]}},created:function(){var t=this;this.$http.getMarketTypeinfo().then(function(e){t.workCategoryList=e.data.workCategoryList,t.feedbackCategoryList=e.data.feedbackCategoryList,t.areaCategoryList=e.data.areaCategoryList,t.regionCategoryList=e.data.regionCategoryList});var e=new FormData;e.append("surveyObject",this.inputMarketForm.surveyObject),e.append("responsiblePerson",this.inputMarketForm.responsiblePerson),e.append("workCategory",this.inputMarketForm.workCategory),e.append("feedbackCategory",this.inputMarketForm.feedbackCategory),e.append("area",this.inputMarketForm.area),e.append("region",this.inputMarketForm.region),e.append("surveyStartTime",this.inputMarketForm.surveyStartTime),e.append("surveyEndTime",this.inputMarketForm.surveyEndTime),e.append("sort",this.inputMarketForm.sort),e.append("order",this.inputMarketForm.order),e.append("page",this.inputMarketForm.page),e.append("rows",this.inputMarketForm.rows);t=this;this.$http.getMarketList(e).then(function(e){t.totalNum=e.data.total;var a=e.data.rows;console.log(e);for(var r=0;r<a.length;r++)a[r].surveyStartTime=t.NumConvertUtil.formatDate2(a[r].surveyStartTime);t.markettableData=a})},methods:{edit:function(t){this.marketedit=!0,this.id=t.id},handleClick:function(t){this.marketsee=!0,this.id=t.id},marketseetwo:function(t){this.marketsee=t},marketedittwo:function(t){this.marketedit=t},formatDate:function(t){if(t){var e=(t=new Date(t)).getFullYear(),a=t.getMonth(),r=t.getDate();return e+"-"+(a+1<10?"0"+(a+1):a+1)+"-"+(r<10?"0"+r:r)}},onSubmit:function(){this.currentPage1=1,this.inputMarketForm=JSON.parse(y()(this.marketForm));var t=new FormData;t.append("surveyObject",this.inputMarketForm.surveyObject),t.append("responsiblePerson",this.inputMarketForm.responsiblePerson),t.append("workCategory",this.inputMarketForm.workCategory),t.append("feedbackCategory",this.inputMarketForm.feedbackCategory),t.append("area",this.inputMarketForm.area),t.append("region",this.inputMarketForm.region),t.append("surveyStartTime",this.formatDate(this.inputMarketForm.surveyStartTime)),t.append("surveyEndTime",this.formatDate(this.inputMarketForm.surveyEndTime)),t.append("sort",this.inputMarketForm.sort),t.append("order",this.inputMarketForm.order),t.append("page",1),t.append("rows",this.inputMarketForm.rows);var e=this;this.$http.getMarketList(t).then(function(t){e.totalNum=t.data.total;for(var a=t.data.rows,r=0;r<a.length;r++)a[r].surveyStartTime=e.NumConvertUtil.formatDate2(a[r].surveyStartTime);e.markettableData=a})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t);var e=new FormData;e.append("surveyObject",this.inputMarketForm.surveyObject),e.append("responsiblePerson",this.inputMarketForm.responsiblePerson),e.append("workCategory",this.inputMarketForm.workCategory),e.append("feedbackCategory",this.inputMarketForm.feedbackCategory),e.append("area",this.inputMarketForm.area),e.append("region",this.inputMarketForm.region),e.append("surveyStartTime",this.formatDate(this.inputMarketForm.surveyStartTime)),e.append("surveyEndTime",this.formatDate(this.inputMarketForm.surveyEndTime)),e.append("sort",this.inputMarketForm.sort),e.append("order",this.inputMarketForm.order),e.append("page",t),e.append("rows",this.inputMarketForm.rows);var a=this;this.$http.getMarketList(e).then(function(t){a.totalNum=t.data.total;for(var e=t.data.rows,r=0;r<e.length;r++)e[r].surveyStartTime=a.NumConvertUtil.formatDate2(e[r].surveyStartTime);a.markettableData=e})}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"markettracking"}},[a("h5",[t._v("市场跟踪")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.marketForm,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"marketFormtopTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"拜访对象"}},[a("el-input",{model:{value:t.marketForm.surveyObject,callback:function(e){t.$set(t.marketForm,"surveyObject",e)},expression:"marketForm.surveyObject"}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"责任人"}},[a("el-input",{model:{value:t.marketForm.responsiblePerson,callback:function(e){t.$set(t.marketForm,"responsiblePerson",e)},expression:"marketForm.responsiblePerson"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"任务类型"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.marketForm.workCategory,callback:function(e){t.$set(t.marketForm,"workCategory",e)},expression:"marketForm.workCategory"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.workCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"返回类型"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.marketForm.feedbackCategory,callback:function(e){t.$set(t.marketForm,"feedbackCategory",e)},expression:"marketForm.feedbackCategory"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.feedbackCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所在地区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.marketForm.area,callback:function(e){t.$set(t.marketForm,"area",e)},expression:"marketForm.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所在片区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.marketForm.region,callback:function(e){t.$set(t.marketForm,"region",e)},expression:"marketForm.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"调查时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.marketForm.surveyStartTime,callback:function(e){t.$set(t.marketForm,"surveyStartTime",e)},expression:"marketForm.surveyStartTime"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.marketForm.surveyEndTime,callback:function(e){t.$set(t.marketForm,"surveyEndTime",e)},expression:"marketForm.surveyEndTime"}})],1)],1)],1),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)])])]),t._v(" "),a("el-table",{attrs:{data:t.markettableData,id:"markettableData",border:""}},[a("el-table-column",{attrs:{prop:"surveyObject",label:"拜访对象",width:"190",height:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"responsiblePerson",label:"责任人",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"surveyStartTime",label:"拜访日期",sortable:"",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workCategoryModel.category",label:"工作任务类型",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"feedbackCategoryModel.category",label:"完成情况",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"areaCategory.category",label:"所在地区",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"regionCategory.category",label:"所在片区",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e}}})],1),t._v(" "),t.marketedit?a("marketedit",{attrs:{"child-msg":t.id},on:{marketedittwo:t.marketedittwo}}):t._e(),t._v(" "),t.marketsee?a("marketsee",{attrs:{"child-msg":t.id},on:{marketseetwo:t.marketseetwo}}):t._e()],1)},staticRenderFns:[]};var N=a("VU/8")(P,S,!1,function(t){a("2HQN")},null,null).exports,D={data:function(){return{id:null,name:null,company:null,job:null,mobile:null,email:null,importanceLevel:null,securityLevel:null,intro:null,comment:null,username:null}},props:["childMsg"],created:function(){var t=this;console.log(this.childMsg);var e=this.childMsg;this.$http.ContactsdetailUrl(e).then(function(e){console.log(e),t.name=e.data.name,t.company=e.data.company,t.job=e.data.job,t.mobile=e.data.mobile,t.email=e.data.email,t.importanceLevel=e.data.importanceLevel,t.securityLevel=e.data.securityLevel,t.intro=e.data.intro,t.comment=e.data.comment,t.username=e.data.user.name})},methods:{close:function(){this.$emit("personsee",!1)}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"personseezhezhaoceng"}},[a("div",{attrs:{id:"personsee"}},[a("h5"),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[t._m(0),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("姓名:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"name"}},[t._v(t._s(t.name))])]),t._v(" "),a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("所属单位:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"company"}},[t._v(t._s(t.company))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("职位:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"job"}},[t._v(t._s(t.job))])]),t._v(" "),a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("联系电话:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"mobile"}},[t._v(t._s(t.mobile))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("邮箱:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"email"}},[t._v(t._s(t.email))])]),t._v(" "),a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("安全级别:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"securityLevel"}},[t._v(t._s(t.securityLevel))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("职位重要度:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"importanceLevel"}},[t._v(t._s(t.importanceLevel))])]),t._v(" "),a("td",{attrs:{colspan:"1",align:"center",bgColor:"#f5fafe"}},[t._v("录入人:")]),t._v(" "),a("td",{attrs:{colspan:"1",bgColor:"#ffffff"}},[a("label",{attrs:{id:"inputUser"}},[t._v(t._s(t.username))])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("简介:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"intro"}},[t._v("\n\t\t                \t"+t._s(t.intro)+"\n\t\t                ")])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"comment"}},[t._v("\n\t\t                \t"+t._s(t.comment)+"\n\t\t                ")])])]),t._v(" "),a("tr",[a("td",{attrs:{lclass:"ta_01",bgColor:"#ffffff",colSpan:"4"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.close}},[t._v("关闭")])],1)],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"center",colSpan:"4"}},[e("strong",[this._v("联系人信息")])])])}]};var T={data:function(){return{id:null,name:null,company:null,job:null,mobile:null,email:null,importanceLevel:null,securityLevel:null,intro:null,comment:null,username:null,postpeopleform:{}}},props:["childMsg"],methods:{close:function(){this.$emit("personedit",!1)},tijiao:function(){var t=this;t.postpeopleform.name=t.name,t.postpeopleform.company=t.company,t.postpeopleform.job=t.job,t.postpeopleform.mobile=t.mobile,t.postpeopleform.email=t.email,t.postpeopleform.importanceLevel=t.importanceLevel,t.postpeopleform.securityLevel=t.securityLevel,t.postpeopleform.intro=t.intro,t.postpeopleform.comment=t.comment,t.postpeopleform.username=t.username,t.postpeopleform.id=t.childMsg,this.$validator.validateAll().then(function(e){e&&(console.log(e),t.$http.contactUpdateUrl(t.postpeopleform).then(function(t){console.log(t),window.location.reload()}).catch(function(t){console.log(t)}))})}},created:function(){var t=this;console.log(this.childMsg);var e=this.childMsg;this.$http.ContactsdetailUrl(e).then(function(e){console.log(e),t.name=e.data.name,t.company=e.data.company,t.job=e.data.job,t.mobile=e.data.mobile,t.email=e.data.email,t.importanceLevel=e.data.importanceLevel,t.securityLevel=e.data.securityLevel,t.intro=e.data.intro,t.comment=e.data.comment})}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"personeditzhezhaoceng"}},[a("div",{attrs:{id:"personedit"}},[a("form",{attrs:{id:"contactForm",method:"post"}},[a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"750",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",colSpan:"4"}},[a("font",{attrs:{face:"宋体",size:"2"}},[a("strong",[t._v("添加相关联系人信息")])])],1)]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("姓名:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"name",type:"text",required:"",name:"name1"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{width:"18%",align:"center",bgColor:"#f5fafe"}},[t._v("所属单位:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",required:"",name:"name2"},domProps:{value:t.company},on:{input:function(e){e.target.composing||(t.company=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name2"),expression:"errors.has('name2')"}],staticClass:"tipsinfo"},[t._v("不能为空")])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("职位:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.job,expression:"job"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",required:"",name:"name3"},domProps:{value:t.job},on:{input:function(e){e.target.composing||(t.job=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name3"),expression:"errors.has('name3')"}],staticClass:"tipsinfo"},[t._v("不能为空")])]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("联系电话:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",required:"",name:"name4"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name4"),expression:"errors.has('name4')"}],staticClass:"tipsinfo"},[t._v("不能为空")])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("邮箱:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",required:"",name:"name5"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name5"),expression:"errors.has('name5')"}],staticClass:"tipsinfo"},[t._v("不能为空")])]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("安全级别:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.securityLevel,expression:"securityLevel"}],staticStyle:{width:"170px"},attrs:{name:"securityLevel"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.securityLevel=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("5")])])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("职位重要度:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.importanceLevel,expression:"importanceLevel"}],staticStyle:{width:"170px"},attrs:{name:"importanceLevel"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.importanceLevel=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("5")])])]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("录入人:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[a("p",{attrs:{id:"inputUser"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("简介:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.intro,expression:"intro"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"intro",cols:"90%",rows:"5",required:"",name:"name6"},domProps:{value:t.intro},on:{input:function(e){e.target.composing||(t.intro=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name6"),expression:"errors.has('name6')"}],staticClass:"tipsinfos"},[t._v("不能为空")]),t._v(" "),a("span",[t._v("0/200")])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"comment",cols:"90%",rows:"5",required:"",name:"name7"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name7"),expression:"errors.has('name7')"}],staticClass:"tipsinfos"},[t._v("不能为空")]),t._v(" "),a("span",[t._v("0/200")])])]),t._v(" "),a("tr",[a("td",{attrs:{lclass:"ta_01",bgColor:"#f5fafe",colSpan:"4"}},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.tijiao}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("关闭")])],1)],1)])])])])])},staticRenderFns:[]};var j={components:{personsee:a("VU/8")(D,$,!1,function(t){a("7uyx")},null,null).exports,personedit:a("VU/8")(T,F,!1,function(t){a("QUQU")},null,null).exports},data:function(){return{personedit2:!1,personsee2:!1,id:null,totalNum:0,personform:{name:"",company:""},postform:{name:"",company:"",sort:"inputTime",order:"desc",page:1,rows:10},PersontableData:[],currentPage1:1,currentPage2:5,currentPage3:5,currentPage4:4}},methods:{onSubmit:function(){console.log("submit!"),this.currentPage1=1,this.postform.name=JSON.parse(y()(this.personform.name)),this.postform.company=JSON.parse(y()(this.personform.company));var t=new FormData;t.append("name",this.postform.name),t.append("company",this.postform.company),t.append("sort",this.postform.sort),t.append("order",this.postform.order),t.append("page",1),t.append("rows",this.postform.rows);var e=this;this.$http.ContactListUrl(t).then(function(t){console.log(t),e.totalNum=t.data.total;for(var a=t.data.rows,r=0;r<a.length;r++)a[r].inputTime=e.NumConvertUtil.formatDate2(a[r].inputTime);e.PersontableData=a})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t);var e=new FormData,a=this;e.append("name",this.postform.name),e.append("company",this.postform.company),e.append("sort",this.postform.sort),e.append("order",this.postform.order),e.append("page",t),e.append("rows",this.postform.rows),this.$http.ContactListUrl(e).then(function(t){console.log(t);for(var e=t.data.rows,r=0;r<e.length;r++)e[r].inputTime=a.NumConvertUtil.formatDate2(e[r].inputTime);a.PersontableData=e})},handleClick:function(t){this.personsee2=!0,console.log(t),this.id=t.id},personeditclick:function(t){this.personedit2=!0,this.id=t.id},personsee:function(t){this.personsee2=t},personedit:function(t){this.personedit2=t}},created:function(){var t=new FormData,e=this;t.append("name",this.postform.name),t.append("company",this.postform.company),t.append("sort",this.postform.sort),t.append("order",this.postform.order),t.append("page",this.postform.page),t.append("rows",this.postform.rows),this.$http.ContactListUrl(t).then(function(t){console.log(t);var a=t.data.rows;e.totalNum=t.data.total;for(var r=0;r<a.length;r++)a[r].inputTime=e.NumConvertUtil.formatDate2(a[r].inputTime);e.PersontableData=a})}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"relationship"}},[a("h5",{staticClass:"personlist"},[t._v("联系人信息列表")]),t._v(" "),a("div",{staticClass:"diyihang"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.personform,size:"mini"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:t.personform.name,callback:function(e){t.$set(t.personform,"name",e)},expression:"personform.name"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"公司"},model:{value:t.personform.company,callback:function(e){t.$set(t.personform,"company",e)},expression:"personform.company"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{"max-width":"1200px",margin:"0 auto","margin-top":"30px"},attrs:{data:t.PersontableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100",height:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company",label:"公司",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user.name",label:"录入人",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job",label:"职务",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inputTime",label:"录入时间",sortable:"",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"importanceLevel",label:"职位重要度",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.personeditclick(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e}}})],1),t._v(" "),t.personsee2?a("personsee",{attrs:{"child-msg":t.id},on:{personsee:t.personsee}}):t._e(),t._v(" "),t.personedit2?a("personedit",{attrs:{"child-msg":t.id},on:{personedit:t.personedit}}):t._e()],1)},staticRenderFns:[]};var A=a("VU/8")(j,M,!1,function(t){a("UX6T")},null,null).exports,U={data:function(){return{id:"",checkbox:[],namelist:[],fileList:[],trackform:{},workCategoryList:[],regionCategoryList:[],feedbackCategoryList:[],areaCategoryList:[]}},methods:{onSubmit:function(){for(var t=this,e=[],a=0;a<this.checkbox.length;a++)for(var r=0;r<this.namelist.length;r++)this.checkbox[a]==this.namelist[r].name&&e.push(this.namelist[r].id);console.log(e),t.trackform.investigators=e,t.trackform.id=t.uuid(),t.trackform.surveyStartTime=Date.parse(new Date(t.trackform.surveyStartTime)).toString(),this.$validator.validateAll().then(function(e){e&&(console.log(e),t.$http.SaveMarketUrl(t.trackform).then(function(e){console.log(e),t.$router.push({path:"marketTracking"})}).catch(function(t){console.log(t)}))})},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)}},created:function(){var t=this;this.$http.MarketSearchCategory().then(function(e){t.areaCategoryList=e.data.areaCategoryList,t.feedbackCategoryList=e.data.feedbackCategoryList,t.regionCategoryList=e.data.regionCategoryList,t.workCategoryList=e.data.workCategoryList}),this.$http.Investigator().then(function(e){console.log(e),t.namelist=e.data})}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"trackmarketinfo"}},[a("h5",[t._v("添加新的市场跟踪报告")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.trackform,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"trackformTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"拜访对象"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name1"},model:{value:t.trackform.surveyObject,callback:function(e){t.$set(t.trackform,"surveyObject",e)},expression:"trackform.surveyObject"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"责任人"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name2"},model:{value:t.trackform.responsiblePerson,callback:function(e){t.$set(t.trackform,"responsiblePerson",e)},expression:"trackform.responsiblePerson"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name2"),expression:"errors.has('name2')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"任务类型"}},[a("el-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"220px"},attrs:{placeholder:"无",name:"name3"},model:{value:t.trackform.workCategory,callback:function(e){t.$set(t.trackform,"workCategory",e)},expression:"trackform.workCategory"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.workCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name3"),expression:"errors.has('name3')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"反馈类型"}},[a("el-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"无",name:"name4"},model:{value:t.trackform.feedbackCategory,callback:function(e){t.$set(t.trackform,"feedbackCategory",e)},expression:"trackform.feedbackCategory"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.feedbackCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name4"),expression:"errors.has('name4')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所在地区"}},[a("el-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"220px"},attrs:{placeholder:"无",name:"name5"},model:{value:t.trackform.area,callback:function(e){t.$set(t.trackform,"area",e)},expression:"trackform.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name5"),expression:"errors.has('name5')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所在片区"}},[a("el-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"无",name:"name6"},model:{value:t.trackform.region,callback:function(e){t.$set(t.trackform,"region",e)},expression:"trackform.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name6"),expression:"errors.has('name6')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"调查时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.trackform.surveyStartTime,callback:function(e){t.$set(t.trackform,"surveyStartTime",e)},expression:"trackform.surveyStartTime"}})],1)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"拜访天数"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name8"},model:{value:t.trackform.surveyDays,callback:function(e){t.$set(t.trackform,"surveyDays",e)},expression:"trackform.surveyDays"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name8"),expression:"errors.has('name8')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)])]),t._v(" "),a("div",{staticClass:"text-box"},[a("el-form-item",{staticClass:"box",attrs:{label:"任务内容"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"textarea",name:"name9"},model:{value:t.trackform.workContent,callback:function(e){t.$set(t.trackform,"workContent",e)},expression:"trackform.workContent"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name9"),expression:"errors.has('name9')"}],staticClass:"tipsinfo1"},[t._v("不能为空")])],1),t._v(" "),a("el-form-item",{staticClass:"box",attrs:{label:"反馈情况"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"textarea",name:"name10"},model:{value:t.trackform.feedback,callback:function(e){t.$set(t.trackform,"feedback",e)},expression:"trackform.feedback"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name10"),expression:"errors.has('name10')"}],staticClass:"tipsinfo1"},[t._v("不能为空")])],1),t._v(" "),a("el-form-item",{staticClass:"box",attrs:{label:"备注"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"textarea",name:"name11"},model:{value:t.trackform.comment,callback:function(e){t.$set(t.trackform,"comment",e)},expression:"trackform.comment"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name11"),expression:"errors.has('name11')"}],staticClass:"tipsinfo1"},[t._v("不能为空")])],1),t._v(" "),a("el-form-item",{staticClass:"box",attrs:{label:"调查人"}},[a("el-checkbox-group",{model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}},t._l(t.namelist,function(t){return a("el-checkbox",{attrs:{label:t.name,value:"item.id",name:"type"}})}))],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),a("el-button",[t._v("取消")])],1)],1),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")])],1)],1)},staticRenderFns:[]};var B=a("VU/8")(U,q,!1,function(t){a("+0cf")},null,null).exports,I={data:function(){return{addPersonInfoform:{}}},methods:{onSubmit:function(){var t=this;t.addPersonInfoform.id=this.uuid(),this.$validator.validateAll().then(function(e){e&&t.$http.contactAddUrl(t.addPersonInfoform).then(function(e){console.log(e),t.$router.push({path:"relationship"})}).catch(function(t){console.log(t)})})}},created:function(){}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addPersonInfo"}},[a("h5",[t._v("添加相关联系人信息")]),t._v(" "),a("el-form",{ref:"addPersonInfoform",attrs:{model:t.addPersonInfoform,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"addPersonInfoTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name1"},model:{value:t.addPersonInfoform.name,callback:function(e){t.$set(t.addPersonInfoform,"name",e)},expression:"addPersonInfoform.name"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所属单位"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name2"},model:{value:t.addPersonInfoform.company,callback:function(e){t.$set(t.addPersonInfoform,"company",e)},expression:"addPersonInfoform.company"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"职位"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name3"},model:{value:t.addPersonInfoform.job,callback:function(e){t.$set(t.addPersonInfoform,"job",e)},expression:"addPersonInfoform.job"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name3"),expression:"errors.has('name3')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name4"},model:{value:t.addPersonInfoform.mobile,callback:function(e){t.$set(t.addPersonInfoform,"mobile",e)},expression:"addPersonInfoform.mobile"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name4"),expression:"errors.has('name4')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:t.addPersonInfoform.email,callback:function(e){t.$set(t.addPersonInfoform,"email",e)},expression:"addPersonInfoform.email"}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"安全级别"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addPersonInfoform.securityLevel,callback:function(e){t.$set(t.addPersonInfoform,"securityLevel",e)},expression:"addPersonInfoform.securityLevel"}},[a("el-option",{attrs:{label:"1",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"2",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"3",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"4",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"5",value:"5"}})],1)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"职位重要度"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addPersonInfoform.importanceLevel,callback:function(e){t.$set(t.addPersonInfoform,"importanceLevel",e)},expression:"addPersonInfoform.importanceLevel"}},[a("el-option",{attrs:{label:"1",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"2",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"3",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"4",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"5",value:"5"}})],1)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"录入人"}},[a("el-input",{attrs:{readonly:"readonly"},model:{value:t.addPersonInfoform.inputUser,callback:function(e){t.$set(t.addPersonInfoform,"inputUser",e)},expression:"addPersonInfoform.inputUser"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"text-ADDPersonInformationbox"},[a("el-form-item",{staticClass:"box",attrs:{label:"简介"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addPersonInfoform.intro,callback:function(e){t.$set(t.addPersonInfoform,"intro",e)},expression:"addPersonInfoform.intro"}})],1),t._v(" "),a("el-form-item",{staticClass:"box",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addPersonInfoform.comment,callback:function(e){t.$set(t.addPersonInfoform,"comment",e)},expression:"addPersonInfoform.comment"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),a("el-button",[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(I,z,!1,function(t){a("77sN")},null,null).exports,E={data:function(){return{}},mounted:function(){var t=this.echarts.init(document.getElementById("Contractincome")),e=this.echarts.init(document.getElementById("Contractpayment")),a=this.echarts.init(document.getElementById("workprogress")),r=this.echarts.init(document.getElementById("Productincome")),o=this.echarts.init(document.getElementById("diquincome")),i=this.echarts.init(document.getElementById("fenquincome")),n=this.echarts.init(document.getElementById("yearWarrantygold")),s=this.echarts.init(document.getElementById("Warrantygoldreturn")),l=this;t.setOption({title:{show:!0,x:"center",text:"合同签订的收入情况"},grid:{left:80},color:["#003366","#006699","#4cabce","#4cacaa"],tooltip:{formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}},legend:{y:"bottom",data:["第一季度","第二季度","第三季度","第四季度"]},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{barGap:"2%",name:"第一季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}},{name:"第二季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}},{name:"第三季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}},{name:"第四季度",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}}]}),this.$http.Contractincome().then(function(e){t.setOption({xAxis:{data:e.data.years},series:[{name:"第一季度",data:e.data.q1},{name:"第二季度",data:e.data.q2},{name:"第三季度",data:e.data.q3},{name:"第四季度",data:e.data.q4}]})}),e.setOption({title:{show:!0,x:"center",text:"合同的收入情况"},tooltip:{formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}},legend:{y:"bottom",data:["已付款","合同已经签订收入","合同承揽收入"]},grid:{left:80},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{barGap:"2%",name:"已付款",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}},{name:"合同已经签订收入",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}},{name:"合同承揽收入",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}}}]}),e.showLoading(),this.$http.Contractpayment().then(function(t){e.hideLoading(),e.setOption({xAxis:{data:t.data.title},series:[{name:"已付款",data:t.data.p1},{name:"合同已经签订收入",data:t.data.p2},{name:"合同承揽收入",data:t.data.p3}]})}),a.setOption({title:{show:!0,x:"center",text:"各地区的工作进度"},tooltip:{formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}},grid:{left:55},legend:{y:"bottom",data:["完成的数量","总的数量"]},xAxis:[{type:"category",data:["---","---","---"]},{type:"category",data:["---","---","---"]}],yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"完成的数量",type:"bar",itemStyle:{normal:{color:"rgba(0,0,0,1)",label:{show:!0,position:"top",textStyle:{color:"#000"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}},data:[0,0,0]},{name:"总的数量",type:"bar",xAxisIndex:1,itemStyle:{normal:{color:"rgba(0,0,0,0.5)",label:{show:!0,position:"top",textStyle:{color:"#000"},formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)}}}},data:[0,0,0]}]}),a.showLoading(),this.$http.workprogress().then(function(t){console.log(t),a.hideLoading(),a.setOption({xAxis:[{data:t.data.title},{data:t.data.title}],series:[{data:t.data.p1},{data:t.data.p2}]})}),r.setOption({title:{show:!0,x:"center",text:"各产品收入"},legend:{y:"bottom",data:[]},series:[{name:"各产品收入",type:"pie",radius:["30%","40%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:function(t){return l.NumConvertUtil.getNumConvertMoney(t.value)+"("+t.percent+"%)"}},labelLine:{show:!0}}}}]}),r.showLoading(),this.$http.Productincome().then(function(t){console.log(t),r.hideLoading(),r.setOption({legend:{data:t.data.category},series:[{name:"各产品类型收入",data:t.data.pie}]})}),o.setOption({title:{show:!0,x:"center",text:"本年度地区已签订的合同收入"},tooltip:{formatter:function(t){return t.name+":"+l.NumConvertUtil.getNumConvertMoney(t.value)+"("+t.percent+"%)"}},legend:{y:"bottom",data:[]},series:[{name:"本年度地区已签订的合同收入",type:"pie",radius:["20%","38%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:function(t){return t.name+":"+t.value+"("+t.percent+"%)"}},labelLine:{show:!0}}}}]}),o.showLoading(),this.$http.diquincome().then(function(t){o.hideLoading(),o.setOption({legend:{data:t.data.category},series:[{name:"本年度地区已签订的合同收入",data:t.data.pie}]})}),i.setOption({title:{show:!0,x:"center",text:"本年度片区已签订的合同收入"},tooltip:{formatter:function(t){return t.name+":"+l.NumConvertUtil.getNumConvertMoney(t.value)+"("+t.percent+"%)"}},legend:{y:"bottom",data:[]},series:[{name:"本年度片区已签订的合同收入",type:"pie",radius:["33%","25%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:function(t){return t.name+":"+l.NumConvertUtil.getNumConvertMoney(t.value)+"("+t.percent+"%)"}},labelLine:{show:!0}}}}]}),i.showLoading(),this.$http.fenquincome().then(function(t){i.hideLoading(),i.setOption({legend:{data:t.data.category},series:[{name:"本年度片区已签订的合同收入",data:t.data.pie}]})}),n.setOption({title:{show:!0,x:"center",text:"年度质保金情况"},legend:{y:"bottom",data:["质保金"]},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{barGap:"0%",name:"质保金",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"},formatter:function(t){return t.value}}}}}]}),n.showLoading(),this.$http.yearWarrantygold().then(function(t){n.hideLoading(),n.setOption({xAxis:{data:t.data.titles},series:[{name:"质保金",data:t.data.pillars}]})}),s.setOption({title:{show:!0,x:"center",text:"质保金应退回金额"},legend:{y:"bottom",data:["质保金应退回金额"]},xAxis:{data:[],axisLabel:{fontSize:8}},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{barGap:"0%",name:"质保金应退回金额",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"},formatter:function(t){return t.value}}}}}]}),s.showLoading(),this.$http.Warrantygoldreturn().then(function(t){console.log(t),s.hideLoading(),s.setOption({xAxis:{data:t.data.titles},series:[{name:"质保金应退回金额",data:t.data.pillars}]})})}},R={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"echartContract"}},[e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"Contractincome"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"Contractpayment"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"workprogress"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"Productincome"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"diquincome"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"fenquincome"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"yearWarrantygold"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"Warrantygoldreturn"}})])])}]};var W=a("VU/8")(E,R,!1,function(t){a("4kvQ")},null,null).exports,V={data:function(){return{id:"",contractCode:"",contractCompany:"",projectName:"",depositBackTime:"",completeAmount:"",totalQuantity:"",paid:"",totalPrice:"",deposit:"",signDate:"",areaCategoryModel:"",regionCategoryModel:"",invoiceCategoryModel:"",note:"",comment:"",files:"",trProductTable:[],contractProductList:{},paymentList:{}}},created:function(){console.log(this.childMsg);var t=this.childMsg,e=this;this.$http.ContractdetailUrl(t).then(function(t){console.log(t),e.id=t.data.id,e.contractCode=t.data.contractCode,e.contractCompany=t.data.contractCompany,e.projectName=t.data.projectName,e.depositBackTime=t.data.depositBackTime,e.depositBackTime=e.NumConvertUtil.formatDate2(e.depositBackTime),e.completeAmount=t.data.completeAmount,e.totalQuantity=t.data.totalQuantity,e.paid=t.data.paid,e.totalPrice=t.data.totalPrice,e.deposit=t.data.deposit,e.signDate=t.data.signDate,e.signDate=e.NumConvertUtil.formatDate2(e.signDate),e.areaCategoryModel=t.data.areaCategoryModel.category,e.regionCategoryModel=t.data.regionCategoryModel.category,e.invoiceCategoryModel=t.data.invoiceCategoryModel.category,e.note=t.data.note,e.comment=t.data.comment,e.files=t.data.files,e.contractProductList=t.data.contractProductList,e.paymentList=t.data.paymentList,e.paymentList.payTime=t.data.paymentList.payTime;for(var a=e.paymentList,r=0;r<a.length;r++)a[r].payTime=e.NumConvertUtil.formatDate2(a[r].payTime),console.log(a[r].payTime)})},props:["childMsg"],methods:{close:function(){this.$emit("contractsee2",!1)},yulan:function(t){console.log(this.id);var e,a=this.$refs.fileCategory.value;e=this.$http.previewFileUrl+a+"/"+this.id+"/"+t,window.open(e,"newWindow","height=500, width=800, toolbar =no, menubar=no, scrollbars=yes, resizable=yes, location=no, status=no")},download:function(t){var e,a=this.$refs.fileCategory.value;e=this.$http.downloadWebFile+a+"/"+this.id+"/"+t,window.location.href=e}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contractseezhezhaoceng"}},[a("div",{attrs:{id:"contractsee"}},[a("input",{ref:"fileCategory",attrs:{type:"hidden",value:"contract"}}),t._v(" "),a("h5"),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{attrs:{align:"center",colSpan:"4"}},[a("font",{attrs:{face:"宋体",size:"2"}},[a("strong",[t._v("添加合同")])])],1)]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同编号:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.contractCode))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{width:"18%",align:"center",bgColor:"#f5fafe"}},[t._v("合同单位：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.contractCompany))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("工程名称：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.projectName))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("质保金退回时间:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.depositBackTime))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("已施工数量：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.completeAmount))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("应该施工总量：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.totalQuantity))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("已付款：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.paid))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同总价：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.totalPrice))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("质保金总额：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.deposit))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同签订时间：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.signDate))])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("地区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.areaCategoryModel))]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("片区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.regionCategoryModel))])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("发票类型:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.invoiceCategoryModel))]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}}),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}})]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("开票备注：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"note"}},[t._v("\n\t\t                \t"+t._s(t.note)+"\n\t\t                ")])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"comment"}},[t._v("\n\t\t                \t"+t._s(t.comment)+"\n\t\t                ")])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}}),t._v(" "),a("td",{attrs:{colSpan:"4",align:"left",bgColor:"#f5fafe"}},t._l(t.files,function(e){return a("div",[a("span",[t._v(t._s(e))]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.download(e)}}},[t._v("下载")]),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.yulan(e)}}},[t._v("预览")])])}))]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"100%"},attrs:{colspan:"4",align:"center",bgColor:"#f5fafe"}},[a("table",{attrs:{id:"insidedata"}},[t._m(0),t._v(" "),t._l(t.paymentList,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(r))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.paid))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.payTime))])])})],2)])]),t._v(" "),t._m(1),t._v(" "),a("tr",[a("td",{staticStyle:{width:"100%"},attrs:{colspan:"4",align:"center",bgColor:"#f5fafe"}},[a("table",{attrs:{id:"insidedata"}},[t._m(2),t._v(" "),t._l(t.contractProductList,function(e){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.productCategoryModel.category))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.unitPrice))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.priceUnitCategoryModel.category))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.amount))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"20%",height:"20"}},[t._v(t._s(e.summation))])])})],2)])]),t._v(" "),a("tr",[a("td",{attrs:{lclass:"ta_01",bgColor:"#f5fafe",colSpan:"4"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.close}},[t._v("关闭")])],1)],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[this._v("序号")]),this._v(" "),e("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[this._v("已付款金额")]),this._v(" "),e("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[this._v("付款日期")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[this._v("产品明细：")]),this._v(" "),e("td",{attrs:{colSpan:"3",align:"left",bgColor:"#f5fafe"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[t._v("产品类型")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[t._v("产品单价")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[t._v("单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[t._v("数量")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"20%",height:"20"}},[t._v("总价")])])}]};var H={data:function(){return{id:null,addcontractformedit:{},arrList:[],arrList2:[],areaCategoryList:[],regionCategoryList:[],invoiceCategoryList:[],productCategoryList:[],priceUnitCategoryList:[],contractCode:null,contractCompany:null,projectName:null,depositBackTime:null,completeAmount:null,totalQuantity:null,paid:null,totalPrice:null,preSignDate:null,signDate:null,deposit:null,areaCategoryModel:null,regionCategoryModel:null,invoiceCategoryModel:null,note:null,comment:null,postcontractform:{},paymentList:null,contractProductList:null,Alreadypaid:null}},props:["childMsg"],methods:{addfirst:function(){this.arrList.push({paid:null,payTime:null})},delatetr:function(t){this.arrList.splice(t,1)},addProduct:function(){this.arrList2.push({amount:null,productCategory:null,summation:null,unit:null,unitPrice:null})},deletetrProduct:function(t){this.arrList2.splice(t,1)},close:function(){this.$emit("contractedit2",!1)},tijiao:function(){var t=this;t.postcontractform.contractCode=t.contractCode,t.postcontractform.contractCompany=t.contractCompany,t.postcontractform.projectName=t.projectName,t.postcontractform.depositBackTime=t.depositBackTime,t.postcontractform.depositBackTime=Date.parse(new Date(t.postcontractform.depositBackTime)).toString(),t.postcontractform.completeAmount=t.completeAmount,t.postcontractform.totalQuantity=t.totalQuantity,t.postcontractform.paid=t.paid,t.postcontractform.totalPrice=t.totalPrice,t.postcontractform.preSignDate=t.preSignDate,t.postcontractform.preSignDate=Date.parse(new Date(t.postcontractform.preSignDate)).toString(),t.postcontractform.signDate=t.signDate,t.postcontractform.signDate=Date.parse(new Date(t.postcontractform.signDate)).toString(),t.postcontractform.deposit=t.deposit,t.postcontractform.area=t.areaCategoryModel,t.postcontractform.region=t.regionCategoryModel,t.postcontractform.taxCategory=t.invoiceCategoryModel,t.postcontractform.note=t.note,t.postcontractform.comment=t.comment,t.postcontractform.paymentList=t.paymentList,t.postcontractform.contractProductList=t.contractProductList,t.postcontractform.id=t.childMsg,t.postcontractform.createDate=t.createDate;for(var e=0;e<t.arrList.length;e++)t.arrList[e].payTime=Date.parse(new Date(t.arrList[e].payTime));for(e=0;e<t.contractProductList.length;e++)t.postcontractform.amount=t.contractProductList[e].amount,t.postcontractform.summation=t.contractProductList[e].summation;t.postcontractform.paid=t.Alreadypaidearly,t.postcontractform.totalQuantity=t.totalAmount,t.postcontractform.totalPrice=t.totalPrix,this.$validator.validateAll().then(function(e){e&&(console.log(e),t.$http.ContractUpdateUrl(t.postcontractform).then(function(t){console.log(t),window.location.reload()}).catch(function(t){console.log(t)}))})}},computed:{Alreadypaidearly:function(){var t=null;return this.arrList.map(function(e){e.paid&&(t+=1*e.paid)}),t},totalAmount:function(){var t=null;return this.arrList2.map(function(e){e.amount&&(t+=1*e.amount)}),t},totalPrix:function(){var t=null;return this.arrList2.map(function(e){e.summation&&(t+=1*e.summation)}),t}},created:function(){var t=this,e=this.childMsg;console.log(this.childMsg),this.$http.ContractdetailUrl(e).then(function(e){console.log(e),t.contractCode=e.data.contractCode,t.contractCompany=e.data.contractCompany,t.projectName=e.data.projectName,t.depositBackTime=e.data.depositBackTime,t.depositBackTime=t.NumConvertUtil.formatDate2(t.depositBackTime),t.completeAmount=e.data.completeAmount,t.totalQuantity=e.data.totalQuantity,t.paid=e.data.paid,t.totalPrice=e.data.totalPrice,t.preSignDate=e.data.preSignDate,t.preSignDate=t.NumConvertUtil.formatDate2(t.preSignDate),t.signDate=e.data.signDate,t.signDate=t.NumConvertUtil.formatDate2(t.signDate),t.deposit=e.data.deposit,t.areaCategoryModel=e.data.areaCategoryModel.id,t.regionCategoryModel=e.data.regionCategoryModel.id,t.invoiceCategoryModel=e.data.invoiceCategoryModel.id,t.note=e.data.note,t.comment=e.data.comment,t.paymentList=e.data.paymentList,t.contractProductList=e.data.contractProductList,t.paymentList.payTime=e.data.paymentList.payTime,t.arrList=t.paymentList,t.arrList2=t.contractProductList;for(var a=t.paymentList,r=0;r<a.length;r++)a[r].payTime=t.NumConvertUtil.formatDate2(a[r].payTime),console.log(a[r].payTime)}),this.$http.allCategory().then(function(e){t.areaCategoryList=e.data.areaCategoryList,t.regionCategoryList=e.data.regionCategoryList,t.bidAuditCategoryList=e.data.bidAuditCategoryList,t.productCategoryList=e.data.productCategoryList,t.priceUnitCategoryList=e.data.priceUnitCategoryList,t.invoiceCategoryList=e.data.invoiceCategoryList})}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contracteditzhezhaoceng"}},[a("div",{attrs:{id:"contractedit"}},[a("form",{attrs:{id:"contractForm",method:"post"}},[a("input",{attrs:{id:"id",type:"hidden",name:"id",value:""}}),t._v(" "),a("input",{attrs:{id:"fileCategory",type:"hidden",value:"contract"}}),t._v(" "),a("br"),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{id:"contractfirst",cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{attrs:{align:"center",colSpan:"4"}},[a("font",{attrs:{face:"宋体",size:"2"}},[a("strong",[t._v("添加合同")])])],1)]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("项目编号:")]),t._v(" "),a("td",{staticClass:"tipsbiaozhun",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contractCode,expression:"contractCode"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"contractCode",name:"name1"},domProps:{value:t.contractCode},on:{input:function(e){e.target.composing||(t.contractCode=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同单位：")]),t._v(" "),a("td",{staticClass:"tipsbiaozhun",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contractCompany,expression:"contractCompany"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"contractCompany",name:"name2"},domProps:{value:t.contractCompany},on:{input:function(e){e.target.composing||(t.contractCompany=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name2"),expression:"errors.has('name2')"}],staticClass:"tipsinfo"},[t._v("不能为空")])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("工程名称")]),t._v(" "),a("td",{staticClass:"tipsbiaozhun",attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.projectName,expression:"projectName"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"projectName",name:"name4"},domProps:{value:t.projectName},on:{input:function(e){e.target.composing||(t.projectName=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name4"),expression:"errors.has('name4')"}],staticClass:"tipsinfo"},[t._v("不能为空")])]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("质保金退回时间：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.depositBackTime,expression:"depositBackTime"}],staticStyle:{width:"170px"},attrs:{id:"unitPrice",type:"date"},domProps:{value:t.depositBackTime},on:{input:function(e){e.target.composing||(t.depositBackTime=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("已施工数量：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.completeAmount,expression:"completeAmount"}],attrs:{id:"completeAmount"},domProps:{value:t.completeAmount},on:{input:function(e){e.target.composing||(t.completeAmount=e.target.value)}}})]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("应该施工总量：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalAmount,expression:"totalAmount"}],attrs:{id:"totalQuantity",name:"totalQuantity",readonly:"readonly"},domProps:{value:t.totalAmount},on:{input:function(e){e.target.composing||(t.totalAmount=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("已付款：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Alreadypaidearly,expression:"Alreadypaidearly"}],attrs:{id:"totalPaid",name:"paid",readonly:"readonly"},domProps:{value:t.Alreadypaidearly},on:{input:function(e){e.target.composing||(t.Alreadypaidearly=e.target.value)}}})]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同总价：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrix,expression:"totalPrix"}],attrs:{id:"totalPrice",name:"totalPrice",readonly:"readonly"},domProps:{value:t.totalPrix},on:{input:function(e){e.target.composing||(t.totalPrix=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同预计签订时间：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.preSignDate,expression:"preSignDate"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"170px"},attrs:{id:"totalPaid",type:"date",name:"name1"},domProps:{value:t.preSignDate},on:{input:function(e){e.target.composing||(t.preSignDate=e.target.value)}}})]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("合同签订时间：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.signDate,expression:"signDate"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"170px"},attrs:{id:"totalPrice",type:"date",name:"name1"},domProps:{value:t.signDate},on:{input:function(e){e.target.composing||(t.signDate=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("质保金总额：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.deposit,expression:"deposit"}],attrs:{id:"deposit"},domProps:{value:t.deposit},on:{input:function(e){e.target.composing||(t.deposit=e.target.value)}}})]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{colspan:"2",align:"center",bgColor:"#f5fafe"}})]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("地区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.areaCategoryModel,expression:"areaCategoryModel"}],staticStyle:{width:"170px"},attrs:{id:"area",name:"area"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.areaCategoryModel=e.target.multiple?a:a[0]}}},t._l(t.areaCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("片区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.regionCategoryModel,expression:"regionCategoryModel"}],staticStyle:{width:"170px"},attrs:{id:"region",name:"region"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.regionCategoryModel=e.target.multiple?a:a[0]}}},t._l(t.regionCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("发票类型:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceCategoryModel,expression:"invoiceCategoryModel"}],staticStyle:{width:"170px"},attrs:{id:"taxCategory",name:"taxCategory"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.invoiceCategoryModel=e.target.multiple?a:a[0]}}},t._l(t.invoiceCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{attrs:{colspan:"2",align:"center",bgColor:"#f5fafe"}})]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("开票备注:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],attrs:{id:"note",name:"note",placeholder:"开票备注",cols:"80%",rows:"8"},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{id:"comment",name:"comment",placeholder:"请输入备注",cols:"80%",rows:"8"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.addcontractformedit,"label-width":"100px",size:"mini",id:"addcontractformedit"}},[a("el-form-item",{attrs:{label:"已付款清单",id:"addPerson"}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addfirst}},[t._v("添加清单")])],1),t._v(" "),a("table",{attrs:{id:"insidedataedit"}},[a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("序号")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("已付款金额")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("付款日期")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("操作")])]),t._v(" "),t._l(t.arrList,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:r,expression:"index"}],staticClass:"inpu",attrs:{type:"text",readonly:"readonly"},domProps:{value:r},on:{input:function(t){t.target.composing||(r=t.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paid,expression:"item.paid"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inpu",attrs:{type:"text",name:"name3"},domProps:{value:e.paid},on:{input:function(a){a.target.composing||t.$set(e,"paid",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.payTime,expression:"item.payTime"}],staticStyle:{width:"173px"},attrs:{type:"date"},domProps:{value:e.payTime},on:{input:function(a){a.target.composing||t.$set(e,"payTime",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{staticClass:"del",attrs:{type:"button",value:"删除"},on:{click:function(e){t.delatetr(r)}}})])])})],2),t._v(" "),a("el-form-item",{attrs:{label:"添加产品明细",id:"addPerson"}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("添加清单")])],1),t._v(" "),a("table",{attrs:{id:"insidedataedit2"}},[a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("产品类型")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("产品单价")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("数量")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("总价")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("操作")])]),t._v(" "),t._l(t.arrList2,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.productCategory,expression:"item.productCategory"}],staticClass:"inpu",attrs:{name:"",placeholder:"无"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"productCategory",a.target.multiple?r:r[0])}}},t._l(t.productCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.unitPrice,expression:"item.unitPrice"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inpu",attrs:{type:"text",name:"name3"},domProps:{value:e.unitPrice},on:{input:function(a){a.target.composing||t.$set(e,"unitPrice",a.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name3"),expression:"errors.has('name3')"}],staticClass:"tipsinfos"},[t._v("不能为空")])]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.unit,expression:"item.unit"}],staticClass:"inpu",attrs:{name:"",placeholder:"无"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"unit",a.target.multiple?r:r[0])}}},t._l(t.priceUnitCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inpu",attrs:{type:"text",name:"name3"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.summation,expression:"item.summation"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inpu",attrs:{type:"text",name:"name3"},domProps:{value:e.summation},on:{input:function(a){a.target.composing||t.$set(e,"summation",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{staticClass:"del",attrs:{type:"button",value:"删除"},on:{click:function(e){t.deletetrProduct(r)}}})])])})],2)],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.tijiao}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("关闭")])],1)],1)])])},staticRenderFns:[]};var J={components:{contractsee:a("VU/8")(V,Q,!1,function(t){a("eomj")},null,null).exports,contractedit:a("VU/8")(H,G,!1,function(t){a("qNc9")},null,null).exports},data:function(){return{contractedit:!1,contractsee:!1,id:null,totalNum:0,currentPage1:1,currentPage2:5,currentPage3:5,currentPage4:4,contractlistForm:{contractCode:"",contractCompany:"",projectName:"",area:"",region:"",productCategory:"",startTime:"",endTime:"",page:1,rows:10,sort:"signDate",order:"desc"},postcontractlistform:{contractCode:"",contractCompany:"",projectName:"",area:"",region:"",productCategory:"",startTime:"",endTime:"",page:1,rows:10,sort:"signDate",order:"desc"},contractlistFormtableData:[],areaCategoryList:[],regionCategoryList:[]}},methods:{formatDate:function(t){if(t){var e=(t=new Date(t)).getFullYear(),a=t.getMonth(),r=t.getDate();return e+"-"+(a+1<10?"0"+(a+1):a+1)+"-"+(r<10?"0"+r:r)}},onSubmit:function(){this.currentPage1=1,this.postcontractlistform=JSON.parse(y()(this.contractlistForm));var t=new FormData;t.append("contractCode",this.postcontractlistform.contractCode),t.append("contractCompany",this.postcontractlistform.contractCompany),t.append("projectName",this.postcontractlistform.projectName),t.append("area",this.postcontractlistform.area),t.append("region",this.postcontractlistform.region),t.append("productCategory",this.postcontractlistform.productCategory),t.append("startTime",this.formatDate(this.postcontractlistform.startTime)),t.append("endTime",this.formatDate(this.postcontractlistform.endTime)),t.append("page",this.postcontractlistform.page),t.append("rows",this.postcontractlistform.rows),t.append("sort",this.postcontractlistform.sort),t.append("order",this.postcontractlistform.order);var e=this;this.$http.Contractlist(t).then(function(t){e.totalNum=t.data.total;for(var a=t.data.rows,r=0;r<a.length;r++)a[r].signDate=e.NumConvertUtil.formatDate2(a[r].signDate),a[r].preSignDate=e.NumConvertUtil.formatDate2(a[r].preSignDate),a[r].depositBackTime=e.NumConvertUtil.formatDate2(a[r].depositBackTime);e.contractlistFormtableData=a})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t);var e=new FormData;e.append("contractCode",this.postcontractlistform.contractCode),e.append("contractCompany",this.postcontractlistform.contractCompany),e.append("projectName",this.postcontractlistform.projectName),e.append("area",this.postcontractlistform.area),e.append("region",this.postcontractlistform.region),e.append("productCategory",this.postcontractlistform.productCategory),e.append("startTime",this.postcontractlistform.startTime),e.append("endTime",this.postcontractlistform.endTime),e.append("page",t),e.append("rows",this.postcontractlistform.rows),e.append("sort",this.postcontractlistform.sort),e.append("order",this.postcontractlistform.order);var a=this;this.$http.Contractlist(e).then(function(t){a.totalNum=t.data.total;for(var e=t.data.rows,r=0;r<e.length;r++)e[r].signDate=a.NumConvertUtil.formatDate2(e[r].signDate),e[r].preSignDate=a.NumConvertUtil.formatDate2(e[r].preSignDate),e[r].depositBackTime=a.NumConvertUtil.formatDate2(e[r].depositBackTime);a.contractlistFormtableData=e})},handleClick:function(t){console.log(t),this.id=t.id,this.contractsee=!0},edit:function(t){this.contractedit=!0,this.id=t.id},contractsee2:function(t){this.contractsee=t},contractedit2:function(t){this.contractedit=t}},created:function(){this.$http.ContractTypeinfo().then(function(t){console.log(t),e.areaCategoryList=t.data.areaCategoryList,e.regionCategoryList=t.data.regionCategoryList});var t=new FormData;t.append("contractCode",this.postcontractlistform.contractCode),t.append("contractCompany",this.postcontractlistform.contractCompany),t.append("projectName",this.postcontractlistform.projectName),t.append("area",this.postcontractlistform.area),t.append("region",this.postcontractlistform.region),t.append("productCategory",this.postcontractlistform.productCategory),t.append("startTime",this.postcontractlistform.startTime),t.append("endTime",this.postcontractlistform.endTime),t.append("page",this.postcontractlistform.page),t.append("rows",this.postcontractlistform.rows),t.append("sort",this.postcontractlistform.sort),t.append("order",this.postcontractlistform.order);var e=this;this.$http.Contractlist(t).then(function(t){console.log(t),e.totalNum=t.data.total;for(var a=t.data.rows,r=0;r<a.length;r++)a[r].signDate=e.NumConvertUtil.formatDate2(a[r].signDate),a[r].preSignDate=e.NumConvertUtil.formatDate2(a[r].preSignDate),a[r].depositBackTime=e.NumConvertUtil.formatDate2(a[r].depositBackTime);e.contractlistFormtableData=a})}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contractlist"}},[a("h5",[t._v("合同列表")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.contractlistForm,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"contractlistFormtopTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"项目编号"}},[a("el-input",{model:{value:t.contractlistForm.contractCode,callback:function(e){t.$set(t.contractlistForm,"contractCode",e)},expression:"contractlistForm.contractCode"}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"合同单位"}},[a("el-input",{model:{value:t.contractlistForm.contractCompany,callback:function(e){t.$set(t.contractlistForm,"contractCompany",e)},expression:"contractlistForm.contractCompany"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"工程名称"}},[a("el-input",{model:{value:t.contractlistForm.projectName,callback:function(e){t.$set(t.contractlistForm,"projectName",e)},expression:"contractlistForm.projectName"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所在地区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.contractlistForm.area,callback:function(e){t.$set(t.contractlistForm,"area",e)},expression:"contractlistForm.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所在片区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.contractlistForm.region,callback:function(e){t.$set(t.contractlistForm,"region",e)},expression:"contractlistForm.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"合同签约时间区间",id:"contractDate"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.contractlistForm.startTime,callback:function(e){t.$set(t.contractlistForm,"startTime",e)},expression:"contractlistForm.startTime"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.contractlistForm.endTime,callback:function(e){t.$set(t.contractlistForm,"endTime",e)},expression:"contractlistForm.endTime"}})],1)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)])])]),t._v(" "),a("el-table",{attrs:{data:t.contractlistFormtableData,id:"contractlistFormtableData",border:""}},[a("el-table-column",{attrs:{prop:"contractCode",label:"项目编号",width:"150",height:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"工程名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contractCompany",label:"合同单位",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"signDate",label:"签约日期",sortable:"",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"preSignDate",label:"预计签约日期",sortable:"",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"depositBackTime",label:"质保金退回日期",sortable:"",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"合同总价",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"施工情况",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(100*(e.row.completeAmount/e.row.totalQuantity).toFixed(2)+"%")+"\n\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"付款情况",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(100*(e.row.paid/e.row.totalPrice).toFixed(2)+"%")+"\n\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"areaCategoryModel.category",label:"所在地区",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"regionCategoryModel.category",label:"所在片区",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e}}})],1),t._v(" "),t.contractsee?a("contractsee",{attrs:{"child-msg":t.id},on:{contractsee2:t.contractsee2}}):t._e(),t._v(" "),t.contractedit?a("contractedit",{attrs:{"child-msg":t.id},on:{contractedit2:t.contractedit2}}):t._e()],1)},staticRenderFns:[]};var X=a("VU/8")(J,Y,!1,function(t){a("qOq/")},null,null).exports,K={data:function(){return{createDate:null,fileList:[],arrList:[{paid:null,payTime:null}],addcontractform:{},areaCategoryList:[],regionCategoryList:[],invoiceCategoryList:[],productCategoryList:[],priceUnitCategoryList:[],paymentList:[],contractProductList:[],arrList2:[{amount:null,productCategory:null,summation:null,unit:null,unitPrice:null}]}},computed:{totalPrice:function(){var t=null;return this.arrList.map(function(e){e.paid&&(t+=1*e.paid)}),t},totalAmount:function(){var t=null;return this.arrList2.map(function(e){e.amount&&(t+=1*e.amount)}),t},totalPrix:function(){var t=null;return this.arrList2.map(function(e){e.summation&&(t+=1*e.summation)}),t}},mounted:function(){},methods:{addfirst:function(){this.arrList.push({paid:null,payTime:null})},addProduct:function(){this.arrList2.push({amount:null,productCategory:null,summation:null,unit:null,unitPrice:null})},deletetrProduct:function(){if(0==index)return this.arrList2[index].amount=null,this.arrList2[index].productCategory=null,this.arrList2[index].summation=null,this.arrList2[index].unit=null,void(this.arrList2[index].unitPrice=null);this.arrList2.splice(index,1)},delatetr:function(t){if(0==t)return this.arrList[t].paid=null,void(this.arrList[t].payTime=null);this.arrList.splice(t,1)},onSubmit:function(){console.log(this.arrList);for(var t=0;t<this.arrList.length;t++)for(var e in this.arrList[t])if(this.arrList[t].payTime=Date.parse(new Date(this.arrList[t].payTime)),this.arrList[t][e]){this.paymentList.push(this.arrList[t]);break}for(t=0;t<this.arrList2.length;t++)for(var e in this.arrList2[t])if(this.arrList2[t][e]){this.contractProductList.push(this.arrList2[t]);break}var a=this;a.addcontractform.id=this.uuid(),a.addcontractform.createDate=a.createDate,a.addcontractform.paymentList=a.paymentList,a.addcontractform.contractProductList=a.contractProductList,a.addcontractform.totalPrice=a.totalPrix,a.addcontractform.paid=a.totalPrice,a.addcontractform.totalQuantity=a.totalAmount,this.$validator.validateAll().then(function(t){t&&(console.log(t),a.addcontractform.depositBackTime=Date.parse(new Date(a.addcontractform.depositBackTime)),a.addcontractform.signDate=Date.parse(new Date(a.addcontractform.signDate)),a.addcontractform.preSignDate=Date.parse(new Date(a.addcontractform.preSignDate)),a.$http.ContractAddUrl(a.addcontractform).then(function(t){console.log(t),a.$router.push({path:"contractlist"})}).catch(function(t){console.log(t)}))})},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)}},created:function(){var t=this;this.$http.allCategory().then(function(e){console.log(e),t.areaCategoryList=e.data.areaCategoryList,t.regionCategoryList=e.data.regionCategoryList,t.invoiceCategoryList=e.data.invoiceCategoryList,t.productCategoryList=e.data.productCategoryList,t.priceUnitCategoryList=e.data.priceUnitCategoryList})}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addcontract"}},[a("h5",[t._v("添加合同")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.addcontractform,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"addcontractTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"项目编号"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name1"},model:{value:t.addcontractform.contractCode,callback:function(e){t.$set(t.addcontractform,"contractCode",e)},expression:"addcontractform.contractCode"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"合同单位"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name2"},model:{value:t.addcontractform.contractCompany,callback:function(e){t.$set(t.addcontractform,"contractCompany",e)},expression:"addcontractform.contractCompany"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name2"),expression:"errors.has('name2')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"工程名称"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name3"},model:{value:t.addcontractform.projectName,callback:function(e){t.$set(t.addcontractform,"projectName",e)},expression:"addcontractform.projectName"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name3"),expression:"errors.has('name3')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"质保金退回时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addcontractform.depositBackTime,callback:function(e){t.$set(t.addcontractform,"depositBackTime",e)},expression:"addcontractform.depositBackTime"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"已施工数量"}},[a("el-input",{model:{value:t.addcontractform.completeAmount,callback:function(e){t.$set(t.addcontractform,"completeAmount",e)},expression:"addcontractform.completeAmount"}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"应该施工总量"}},[a("el-input",{attrs:{readonly:"readonly"},model:{value:t.totalAmount,callback:function(e){t.totalAmount=e},expression:"totalAmount"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"已付款"}},[a("el-input",{attrs:{readonly:"readonly"},model:{value:t.totalPrice,callback:function(e){t.totalPrice=e},expression:"totalPrice"}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"合同总价"}},[a("el-input",{attrs:{readonly:"readonly"},model:{value:t.totalPrix,callback:function(e){t.totalPrix=e},expression:"totalPrix"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"合同预计签订时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addcontractform.preSignDate,callback:function(e){t.$set(t.addcontractform,"preSignDate",e)},expression:"addcontractform.preSignDate"}})],1)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"合同签订时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addcontractform.signDate,callback:function(e){t.$set(t.addcontractform,"signDate",e)},expression:"addcontractform.signDate"}})],1)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所在地区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addcontractform.area,callback:function(e){t.$set(t.addcontractform,"area",e)},expression:"addcontractform.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所在片区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addcontractform.region,callback:function(e){t.$set(t.addcontractform,"region",e)},expression:"addcontractform.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"发票类型"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addcontractform.taxCategory,callback:function(e){t.$set(t.addcontractform,"taxCategory",e)},expression:"addcontractform.taxCategory"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.invoiceCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"质保金总额"}},[a("el-input",{model:{value:t.addcontractform.deposit,callback:function(e){t.$set(t.addcontractform,"deposit",e)},expression:"addcontractform.deposit"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"text-box"},[a("el-form-item",{staticClass:"box",attrs:{label:"开票备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addcontractform.note,callback:function(e){t.$set(t.addcontractform,"note",e)},expression:"addcontractform.note"}})],1),t._v(" "),a("el-form-item",{staticClass:"box",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addcontractform.comment,callback:function(e){t.$set(t.addcontractform,"comment",e)},expression:"addcontractform.comment"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"已付款清单",id:"addPerson"}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addfirst}},[t._v("添加清单")])],1),t._v(" "),a("table",{attrs:{id:"insidedata"}},[a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("序号")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("已付款金额")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("付款日期")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"25%",height:"20"}},[t._v("操作")])]),t._v(" "),t._l(t.arrList,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:r,expression:"index"}],staticClass:"inpu",attrs:{type:"text",readonly:"readonly"},domProps:{value:r},on:{input:function(t){t.target.composing||(r=t.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paid,expression:"item.paid"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.paid},on:{input:function(a){a.target.composing||t.$set(e,"paid",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("el-form-item",[a("el-col",{attrs:{span:1}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.payTime,callback:function(a){t.$set(e,"payTime",a)},expression:"item.payTime"}})],1)],1)],1),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"25%",height:"20"}},[a("input",{staticClass:"del",attrs:{type:"button",value:"删除"},on:{click:function(e){t.delatetr(r)}}})])])})],2),t._v(" "),a("el-form-item",{attrs:{label:"添加产品明细",id:"addPerson"}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("添加清单")])],1),t._v(" "),a("table",{attrs:{id:"insidedata2"}},[a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("产品类型")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("产品单价")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("数量")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("总价")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"10%",height:"20"}},[t._v("操作")])]),t._v(" "),t._l(t.arrList2,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.productCategory,expression:"item.productCategory"}],staticStyle:{width:"120px"},attrs:{name:"",placeholder:"无"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"productCategory",a.target.multiple?r:r[0])}}},t._l(t.productCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.unitPrice,expression:"item.unitPrice"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.unitPrice},on:{input:function(a){a.target.composing||t.$set(e,"unitPrice",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.unit,expression:"item.unit"}],staticStyle:{width:"120px"},attrs:{name:"",placeholder:"无"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"unit",a.target.multiple?r:r[0])}}},t._l(t.priceUnitCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.summation,expression:"item.summation"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.summation},on:{input:function(a){a.target.composing||t.$set(e,"summation",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"10%",height:"20"}},[a("input",{staticClass:"del",attrs:{type:"button",value:"删除"},on:{click:function(e){t.deletetrProduct(r)}}})])])})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),a("el-button",[t._v("取消")])],1)],1),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")])],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(K,Z,!1,function(t){a("H0Ze")},null,null).exports,et={name:"marketInformation",mounted:function(){var t=this.echarts.init(document.getElementById("biddingNum")),e=this.echarts.init(document.getElementById("biddingMoney")),a=this.echarts.init(document.getElementById("tenderWeight")),r=this.echarts.init(document.getElementById("bidWinTotalWeight")),o=this.echarts.init(document.getElementById("bidWinWeight")),i=this;t.setOption({title:{show:!0,x:"center",text:"中标的数量情况"},tooltip:{},legend:{y:"bottom",data:["中标的数量","参与投标的数量","招标文件总数"]},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} "}},series:[{barGap:"0%",name:"中标的数量",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{barGap:"0%",name:"参与投标的数量",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{name:"招标文件总数",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}}]}),t.showLoading(),this.$http.biddingNum().then(function(e){console.log(e),t.hideLoading(),t.setOption({xAxis:{data:e.data.title},series:[{name:"中标的数量",data:e.data.p1},{name:"参与投标的数量",data:e.data.p2},{name:"招标文件总数",data:e.data.p3}]})}),e.setOption({title:{show:!0,x:"center",text:"中标的金额情况"},tooltip:{},legend:{y:"bottom",data:["中标的金额","参与投标项目的总金额","市场总金额"]},xAxis:{data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value} "}},series:[{barGap:"0%",name:"中标的金额",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{name:"招标文件的总金额",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}},{name:"市场总金额",type:"bar",data:[],itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{fontSize:"15",fontFamily:"微软雅黑"}}}}}]}),e.showLoading(),this.$http.biddingMoney().then(function(t){e.hideLoading(),e.setOption({xAxis:{data:t.data.title},series:[{name:"中标的金额",data:t.data.p1},{name:"招标文件的总金额",data:t.data.p2},{name:"市场总金额",data:t.data.p3}]})}),a.setOption({title:{show:!0,x:"center",text:"参与投标的中标占比情况"},tooltip:{},legend:{y:"bottom",data:[]},series:[{name:"中标占比",type:"pie",radius:["30%","40%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:function(t){return i.NumConvertUtil.getNumConvertMoney(t.value)+"("+t.percent+"%)"}},labelLine:{show:!0}}}}]}),a.showLoading(),this.$http.bidCharTenderWeight().then(function(t){a.hideLoading(),a.setOption({legend:{data:t.data.category},series:[{name:"中标占比",data:t.data.pie}]})}),r.setOption({title:{show:!0,x:"center",text:"市场总额的中标占比情况"},tooltip:{},legend:{y:"bottom",data:[]},series:[{name:"中标占比",type:"pie",radius:["30%","40%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:function(t){return i.NumConvertUtil.getNumConvertMoney(t.value)+"("+t.percent+"%)"}},labelLine:{show:!0}}}}]}),r.showLoading(),this.$http.bidChartWinTotalWeight().then(function(t){r.hideLoading(),r.setOption({legend:{data:t.data.category},series:[{name:"中标占比",data:t.data.pie}]})}),o.setOption({title:{show:!0,x:"center",text:"各公司中标占比明细"},legend:{y:"bottom",data:[]},tooltip:{},series:[{name:"中标占比",type:"pie",radius:["30%","40%"],legendHoverLink:!1,hoverAnimation:!1,label:{show:!0,position:"outside"},labelLine:{show:!0,length:50},data:[],itemStyle:{normal:{label:{show:!0,formatter:function(t){return t.name+":"+i.NumConvertUtil.getShortMoney(t.value)+"("+t.percent+"%)"}},labelLine:{show:!0}}}}]}),o.showLoading(),this.$http.bidChartWinWeight().then(function(t){o.hideLoading(),console.log(t),o.setOption({legend:{data:t.data.category},series:[{name:"中标占比",data:t.data.pie}]})})}},at={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"echartsBiddinginfo"}},[e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"biddingNum"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"biddingMoney"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"tenderWeight"}}),this._v(" "),e("div",{staticStyle:{width:"500px",height:"500px"},attrs:{id:"bidWinTotalWeight"}}),this._v(" "),e("div",{staticStyle:{width:"900px",height:"900px"},attrs:{id:"bidWinWeight"}})])])}]};var rt=a("VU/8")(et,at,!1,function(t){a("eCc3")},null,null).exports,ot={data:function(){return{bidCompany:"",bidProject:"",bidAmount:"",bider:"",bidTime:"",bidAuditCategory:"",comment:"",bidSummary:"",areaCategory:"",regionCategory:"",bidPkgList:{}}},methods:{close:function(){this.$emit("bidding",!1)}},created:function(){console.log(this.childMsg);var t=this.childMsg,e=this;this.$http.bidDetail(t).then(function(t){console.log(t),e.bidCompany=t.data.bidCompany,e.bidProject=t.data.bidProject,e.bidAmount=t.data.bidAmount,e.bider=t.data.bider,e.bidTime=t.data.bidTime,e.bidTime=e.NumConvertUtil.formatDate2(e.bidTime),e.bidAuditCategory=t.data.bidAuditCategory.category,e.comment=t.data.comment,e.bidSummary=t.data.bidSummary,e.areaCategory=t.data.areaCategory.category,e.regionCategory=t.data.regionCategory.category,e.bidPkgList=t.data.bidPkgList})},props:["childMsg"]},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"biddingseezhezhaoceng"}},[a("div",{attrs:{id:"biddingsee"}},[a("input",{ref:"fileCategory",attrs:{type:"hidden",value:"market"}}),t._v(" "),a("h5",[t._v("\n\t\t\t\t添加招投标管理信息\n\t\t\t")]),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标单位:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.bidCompany))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标项目名称:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.bidProject))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标数量:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.bidAmount))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("中标单位:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.bider))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("投标时间:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.bidTime))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("审核状态:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.bidAuditCategory))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("地区:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.areaCategory))]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("片区:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff"}},[t._v(t._s(t.regionCategory))])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"workContent"}},[t._v(t._s(t.comment))])])]),t._v(" "),a("tr",[a("td",{staticClass:"ta_01",attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标总结:")]),t._v(" "),a("td",{staticClass:"ta_01",attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"feedback"}},[t._v(t._s(t.bidSummary))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"100%"},attrs:{colspan:"5",align:"center",bgColor:"#f5fafe"}},[a("table",{attrs:{id:"insidedata"}},[t._m(0),t._v(" "),t._l(t.bidPkgList,function(e){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v(t._s(e.pkgNum))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v(t._s(e.productCategoryModel.category))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v(t._s(e.amount))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v(t._s(e.priceUnitCategoryModel.category))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v(t._s(e.bidder))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v(t._s(e.tenderPrice))])])})],2)])]),t._v(" "),a("tr",[a("td",{attrs:{lclass:"ta_01",bgColor:"#f5fafe",colSpan:"4"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.close}},[t._v("关闭")])],1)],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("包号")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("产品类型")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("数量")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("中标单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("中标价格")])])}]};var nt={data:function(){return{arrList:[],addbiddingedit:{},bidCompany:"",bidProject:"",bidAmount:"",bidPrice:"",bidTime:"",bidAuditCategory:"",comment:"",bidSummary:"",areaCategory:"",regionCategory:"",areaCategoryList:[],regionCategoryList:[],bidAuditCategoryList:[],productCategoryList:[],priceUnitCategoryList:[],bidPkgList:[{pkgNum:null,amount:null,bidder:"",productCategory:null,tenderPrice:null,unit:null}],postbidform:{}}},props:["childMsg"],methods:{close:function(){this.$emit("biddingeditt",!1)},addlist:function(){this.arrList.push({pkgNum:null,amount:null,bidder:"",productCategory:null,tenderPrice:null,unit:null})},delatetr:function(t){this.arrList.splice(t,1)},tijiao:function(){this.postbidform.bidCompany=this.bidCompany,this.postbidform.bidProject=this.bidProject,this.postbidform.bidAmount=this.bidAmount,this.postbidform.bidTime=this.bidTime,this.postbidform.bidTime=Date.parse(new Date(this.postbidform.bidTime)).toString(),this.postbidform.status=this.bidAuditCategory,this.postbidform.comment=this.comment,this.postbidform.bidSummary=this.bidSummary,this.postbidform.area=this.areaCategory,this.postbidform.region=this.regionCategory,this.postbidform.bidPkgList=this.arrList,this.postbidform.id=this.childMsg,this.$http.bidUpdateUrl(this.postbidform).then(function(t){console.log(t),window.location.reload()})}},created:function(){var t=this,e=this.childMsg;this.$http.bidDetail(e).then(function(e){console.log(e),t.bidCompany=e.data.bidCompany,t.bidProject=e.data.bidProject,t.bidAmount=e.data.bidAmount,t.bidPrice=e.data.bidPrice,t.bidTime=e.data.bidTime,t.bidTime=t.NumConvertUtil.formatDate2(t.bidTime),t.bidAuditCategory=e.data.bidAuditCategory.id,t.comment=e.data.comment,t.bidSummary=e.data.bidSummary,t.areaCategory=e.data.areaCategory.id,t.regionCategory=e.data.regionCategory.id,t.bidPkgList=e.data.bidPkgList,t.arrList=t.bidPkgList;for(var a=0;a<t.bidPkgList.length;a++)console.log(t.bidPkgList[a].pkgNum,6666),t.arrList[a].pkgNum=t.bidPkgList[a].pkgNum,t.arrList[a].amount=t.bidPkgList[a].amount,t.arrList[a].bidder=t.bidPkgList[a].bidder,t.arrList[a].productCategory=t.bidPkgList[a].productCategory,t.arrList[a].unit=t.bidPkgList[a].unit,t.arrList[a].tenderPrice=t.bidPkgList[a].tenderPrice;console.log(t.bidPkgList,99999)}),this.$http.allCategory().then(function(e){t.areaCategoryList=e.data.areaCategoryList,t.regionCategoryList=e.data.regionCategoryList,t.bidAuditCategoryList=e.data.bidAuditCategoryList,t.productCategoryList=e.data.productCategoryList,t.priceUnitCategoryList=e.data.priceUnitCategoryList})}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"biddingeditzhezhaoceng"}},[a("div",{attrs:{id:"biddingedit"}},[a("form",{attrs:{id:"bidFrom",method:"post"}},[a("input",{attrs:{id:"id",type:"hidden",name:"id",value:""}}),t._v(" "),a("input",{attrs:{id:"fileCategory",type:"hidden",value:"bid"}}),t._v(" "),a("br"),t._v(" "),a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{attrs:{align:"center",colSpan:"4"}},[a("font",{attrs:{face:"宋体",size:"2"}},[a("strong",[t._v("添加招投标管理信息")])])],1)]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标单位:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bidCompany,expression:"bidCompany"}],attrs:{type:"text",name:"bidCompany",id:"bidCompany"},domProps:{value:t.bidCompany},on:{input:function(e){e.target.composing||(t.bidCompany=e.target.value)}}})]),t._v(" "),a("td",{attrs:{width:"18%",align:"center",bgColor:"#f5fafe"}},[t._v("招标项目名称:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bidProject,expression:"bidProject"}],attrs:{type:"text",name:"bidProject",id:"bidProject",required:""},domProps:{value:t.bidProject},on:{input:function(e){e.target.composing||(t.bidProject=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标数量:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bidAmount,expression:"bidAmount"}],attrs:{type:"text",name:"bidAmount",id:"bidAmount"},domProps:{value:t.bidAmount},on:{input:function(e){e.target.composing||(t.bidAmount=e.target.value)}}})]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("预估招标总价:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bidPrice,expression:"bidPrice"}],attrs:{type:"text",name:"bider",id:"bider"},domProps:{value:t.bidPrice},on:{input:function(e){e.target.composing||(t.bidPrice=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("投标时间:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bidTime,expression:"bidTime"}],staticStyle:{width:"168px",height:"17px"},attrs:{type:"date",name:"bidTime",id:"bidTime"},domProps:{value:t.bidTime},on:{input:function(e){e.target.composing||(t.bidTime=e.target.value)}}})]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("审核状态:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.bidAuditCategory,expression:"bidAuditCategory"}],staticStyle:{width:"173px"},attrs:{id:"status",name:"status"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.bidAuditCategory=e.target.multiple?a:a[0]}}},t._l(t.bidAuditCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("地区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.areaCategory,expression:"areaCategory"}],staticStyle:{width:"173px"},attrs:{id:"area",name:"area"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.areaCategory=e.target.multiple?a:a[0]}}},t._l(t.areaCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("片区:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.regionCategory,expression:"regionCategory"}],staticStyle:{width:"173px"},attrs:{id:"region",name:"region"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.regionCategory=e.target.multiple?a:a[0]}}},t._l(t.regionCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{id:"comment",name:"comment",placeholder:"请输入任务内容",cols:"80%",rows:"8"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),t._v(" "),a("span",[t._v("0/200")])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("招标总结:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bidSummary,expression:"bidSummary"}],attrs:{id:"bidSummary",name:"bidSummary",placeholder:"请输入反馈情况",cols:"80%",rows:"8"},domProps:{value:t.bidSummary},on:{input:function(e){e.target.composing||(t.bidSummary=e.target.value)}}}),t._v(" "),a("span",[t._v("0/200")])])])]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.addbiddingedit,"label-width":"100px",size:"mini",id:"addbiddingedit"}},[a("el-form-item",{attrs:{label:"包号清单",id:"addPerson"}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addlist}},[t._v("添加清单")])],1),t._v(" "),a("table",{attrs:{id:"biddinginsidedataedit"}},[a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("包号")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("产品类型")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("数量")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("中标单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("中标价格")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"14%",height:"20"}},[t._v("操作")])]),t._v(" "),t._l(t.arrList,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pkgNum,expression:"item.pkgNum"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.pkgNum},on:{input:function(a){a.target.composing||t.$set(e,"pkgNum",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.productCategory,expression:"item.productCategory"}],staticClass:"inpu",staticStyle:{height:"23px"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"productCategory",a.target.multiple?r:r[0])}}},t._l(t.productCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.unit,expression:"item.unit"}],staticClass:"inpu",staticStyle:{height:"23px"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"unit",a.target.multiple?r:r[0])}}},t._l(t.priceUnitCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bidder,expression:"item.bidder"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.bidder},on:{input:function(a){a.target.composing||t.$set(e,"bidder",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tenderPrice,expression:"item.tenderPrice"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.tenderPrice},on:{input:function(a){a.target.composing||t.$set(e,"tenderPrice",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"14%",height:"20"}},[a("input",{staticClass:"del",attrs:{type:"button",value:"删除"},on:{click:function(e){t.delatetr(r)}}})])])})],2)],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.tijiao}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("关闭")])],1)],1)])])},staticRenderFns:[]};var lt={components:{biddingsee:a("VU/8")(ot,it,!1,function(t){a("EUpP")},null,null).exports,biddingedit:a("VU/8")(nt,st,!1,function(t){a("j4pg")},null,null).exports},data:function(){return{id:null,biddingedit:!1,biddingsee:!1,totalNum:0,currentPage1:1,currentPage2:5,currentPage3:5,currentPage4:4,biddinglistForm:{bidCompany:"",bider:"",bidStartDate:"",bidEndDate:"",status:"",area:"",region:"",sort:"bidTime",order:"desc",page:1,rows:10},inputbiddingform:{bidCompany:"",bider:"",bidStartDate:"",bidEndDate:"",status:"",area:"",region:"",sort:"bidTime",order:"desc",page:1,rows:10},biddinglisttableData:[],areaCategoryList:[],invoiceCategoryList:[],productCategoryList:[],regionCategoryList:[],auditlist:[]}},methods:{handleClick:function(t){this.biddingsee=!0,this.id=t.id},handleClick2:function(t){this.biddingedit=!0,this.id=t.id},bidding:function(t){this.biddingsee=t},biddingeditt:function(t){this.biddingedit=t},formatDate:function(t){if(t){var e=(t=new Date(t)).getFullYear(),a=t.getMonth(),r=t.getDate();return e+"-"+(a+1<10?"0"+(a+1):a+1)+"-"+(r<10?"0"+r:r)}},onSubmit:function(){console.log("submit!"),this.currentPage1=1,this.inputbiddingform=JSON.parse(y()(this.biddinglistForm));var t=new FormData;t.append("bidCompany",this.inputbiddingform.bidCompany),t.append("bider",this.inputbiddingform.bider),t.append("bidStartDate",this.formatDate(this.inputbiddingform.bidStartDate)),t.append("bidEndDate",this.formatDate(this.inputbiddingform.bidEndDate)),t.append("status",this.inputbiddingform.status),t.append("area",this.inputbiddingform.area),t.append("region",this.inputbiddingform.region),t.append("sort",this.inputbiddingform.sort),t.append("order",this.inputbiddingform.order),t.append("page",1),t.append("rows",this.inputbiddingform.rows);var e=this;this.$http.bidListUrl(t).then(function(t){console.log(t),e.totalNum=t.data.total;for(var a=t.data.rows,r=0;r<a.length;r++)a[r].bidTime=e.NumConvertUtil.formatDate2(a[r].bidTime);e.biddinglisttableData=a})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t);var e=new FormData;e.append("bidCompany",this.inputbiddingform.bidCompany),e.append("bider",this.inputbiddingform.bider),e.append("bidStartDate",this.inputbiddingform.bidStartDate),e.append("bidEndDate",this.inputbiddingform.bidEndDate),e.append("status",this.inputbiddingform.status),e.append("area",this.inputbiddingform.area),e.append("region",this.inputbiddingform.region),e.append("sort",this.inputbiddingform.sort),e.append("order",this.inputbiddingform.order),e.append("page",t),e.append("rows",this.inputbiddingform.rows);var a=this;this.$http.bidListUrl(e).then(function(t){console.log(t),a.totalNum=t.data.total;for(var e=t.data.rows,r=0;r<e.length;r++)e[r].bidTime=a.NumConvertUtil.formatDate2(e[r].bidTime);a.biddinglisttableData=e})}},created:function(){var t=this;this.$http.contractSelectCategory().then(function(e){t.areaCategoryList=e.data.areaCategoryList,t.invoiceCategoryList=e.data.invoiceCategoryList,t.productCategoryList=e.data.productCategoryList,t.regionCategoryList=e.data.regionCategoryList}),this.$http.bidAuditCategory().then(function(e){t.auditlist=e.data});var e=new FormData;e.append("bidCompany",this.inputbiddingform.bidCompany),e.append("bider",this.inputbiddingform.bider),e.append("bidStartDate",this.inputbiddingform.bidStartDate),e.append("bidEndDate",this.inputbiddingform.bidEndDate),e.append("status",this.inputbiddingform.status),e.append("area",this.inputbiddingform.area),e.append("region",this.inputbiddingform.region),e.append("sort",this.inputbiddingform.sort),e.append("order",this.inputbiddingform.order),e.append("page",this.inputbiddingform.page),e.append("rows",this.inputbiddingform.rows);t=this;this.$http.bidListUrl(e).then(function(e){console.log(e),t.totalNum=e.data.total;for(var a=e.data.rows,r=0;r<a.length;r++)a[r].bidTime=t.NumConvertUtil.formatDate2(a[r].bidTime);t.biddinglisttableData=a})}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"biddinglist"}},[a("h5",[t._v("招投标信息列表")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.biddinglistForm,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"biddinglistFormtopTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"招标文件发布方"}},[a("el-input",{model:{value:t.biddinglistForm.bidCompany,callback:function(e){t.$set(t.biddinglistForm,"bidCompany",e)},expression:"biddinglistForm.bidCompany"}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.biddinglistForm.status,callback:function(e){t.$set(t.biddinglistForm,"status",e)},expression:"biddinglistForm.status"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.auditlist,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"合同签约时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.biddinglistForm.bidStartDate,callback:function(e){t.$set(t.biddinglistForm,"bidStartDate",e)},expression:"biddinglistForm.bidStartDate"}})],1)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"合同签约时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.biddinglistForm.bidEndDate,callback:function(e){t.$set(t.biddinglistForm,"bidEndDate",e)},expression:"biddinglistForm.bidEndDate"}})],1)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所在地区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.biddinglistForm.area,callback:function(e){t.$set(t.biddinglistForm,"area",e)},expression:"biddinglistForm.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所在片区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.biddinglistForm.region,callback:function(e){t.$set(t.biddinglistForm,"region",e)},expression:"biddinglistForm.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)])])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.biddinglisttableData,border:""}},[a("el-table-column",{attrs:{prop:"bidCompany",label:"招标单位",width:"150",height:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bidProject",label:"招标项目名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bidTime",label:"投标日期",sortable:"",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bidAuditCategory.category",label:"审核状态",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"areaCategory.category",label:"所在地区",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"regionCategory.category",label:"所在片区",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick2(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e}}})],1),t._v(" "),t.biddingsee?a("biddingsee",{attrs:{"child-msg":t.id},on:{bidding:t.bidding}}):t._e(),t._v(" "),t.biddingedit?a("biddingedit",{attrs:{"child-msg":t.id},on:{biddingeditt:t.biddingeditt}}):t._e()],1)},staticRenderFns:[]};var ct=a("VU/8")(lt,dt,!1,function(t){a("lYk6")},null,null).exports,mt={data:function(){return{id:"",listshow:0,fileList:[],addBiddingform:{},areaCategoryList:[],regionCategoryList:[],bidAuditCategoryList:[],productCategoryList:[],priceUnitCategoryList:[],bidPkgList:[],arrList:[{pkgNum:null,amount:null,bidder:"",productCategory:null,tenderPrice:null,unit:null}]}},methods:{addlist:function(){this.arrList.push({pkgNum:null,amount:null,bidder:"",productCategory:null,tenderPrice:null,unit:null})},delatetr:function(t){if(0==t)return this.arrList[t].pkgNum=null,this.arrList[t].amount=null,this.arrList[t].bidder="",this.arrList[t].productCategory=null,this.arrList[t].tenderPrice=null,void(this.arrList[t].unit=null);this.arrList.splice(t,1)},onSubmit:function(){for(var t=this,e=0;e<this.arrList.length;e++)for(var a in this.arrList[e])if(this.arrList[e][a]){this.bidPkgList.push(this.arrList[e]);break}t.addBiddingform.bidPkgList=t.bidPkgList,t.addBiddingform.id=this.uuid(),this.$validator.validateAll().then(function(e){e&&(t.addBiddingform.bidTime=Date.parse(new Date(t.addBiddingform.bidTime)),console.log(e),t.$http.bidAddUrl(t.addBiddingform).then(function(e){console.log(e),t.$router.push({path:"Biddinglist"})}).catch(function(t){console.log(t)}))})},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)}},created:function(){var t=this;this.$http.allCategory().then(function(e){t.areaCategoryList=e.data.areaCategoryList,t.regionCategoryList=e.data.regionCategoryList,t.bidAuditCategoryList=e.data.bidAuditCategoryList,t.productCategoryList=e.data.productCategoryList,t.priceUnitCategoryList=e.data.priceUnitCategoryList})}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addBiddingMarket"}},[a("h5",[t._v("添加招投标管理信息")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.addBiddingform,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"addBiddingMarketTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"招标单位"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name1"},model:{value:t.addBiddingform.bidCompany,callback:function(e){t.$set(t.addBiddingform,"bidCompany",e)},expression:"addBiddingform.bidCompany"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name1"),expression:"errors.has('name1')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"招标项目名称"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name2"},model:{value:t.addBiddingform.bidProject,callback:function(e){t.$set(t.addBiddingform,"bidProject",e)},expression:"addBiddingform.bidProject"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name2"),expression:"errors.has('name2')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"招标数量"}},[a("el-input",{model:{value:t.addBiddingform.bidAmount,callback:function(e){t.$set(t.addBiddingform,"bidAmount",e)},expression:"addBiddingform.bidAmount"}})],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"招标时间"}},[a("el-date-picker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"date",placeholder:"选择日期",name:"date"},model:{value:t.addBiddingform.bidTime,callback:function(e){t.$set(t.addBiddingform,"bidTime",e)},expression:"addBiddingform.bidTime"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("date"),expression:"errors.has('date')"}],staticClass:"tipsinfo"},[t._v("不能为空")])],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addBiddingform.status,callback:function(e){t.$set(t.addBiddingform,"status",e)},expression:"addBiddingform.status"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.bidAuditCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所在地区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addBiddingform.area,callback:function(e){t.$set(t.addBiddingform,"area",e)},expression:"addBiddingform.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所在片区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.addBiddingform.region,callback:function(e){t.$set(t.addBiddingform,"region",e)},expression:"addBiddingform.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)])]),t._v(" "),a("div",{staticClass:"text-box-addBidding"},[a("el-form-item",{staticClass:"box",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addBiddingform.comment,callback:function(e){t.$set(t.addBiddingform,"comment",e)},expression:"addBiddingform.comment"}})],1),t._v(" "),a("el-form-item",{staticClass:"box",attrs:{label:"招标总结"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addBiddingform.bidSummary,callback:function(e){t.$set(t.addBiddingform,"bidSummary",e)},expression:"addBiddingform.bidSummary"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"包号清单",id:"addPerson"}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addlist}},[t._v("添加清单")])],1),t._v(" "),a("table",{attrs:{id:"insidedata"}},[a("tr",[a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("包号")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("产品类型")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("数量")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("中标单位")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("中标价格")]),t._v(" "),a("th",{staticClass:"firsttr",attrs:{align:"center",width:"16.66%",height:"20"}},[t._v("操作")])]),t._v(" "),t._l(t.arrList,function(e,r){return a("tr",[a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pkgNum,expression:"item.pkgNum"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.pkgNum},on:{input:function(a){a.target.composing||t.$set(e,"pkgNum",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.productCategory,expression:"item.productCategory"}],staticClass:"inpu",on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"productCategory",a.target.multiple?r:r[0])}}},t._l(t.productCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.unit,expression:"item.unit"}],staticClass:"inpu",on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"unit",a.target.multiple?r:r[0])}}},t._l(t.priceUnitCategoryList,function(t){return a("option",{attrs:{label:t.category},domProps:{value:t.id}})}))]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bidder,expression:"item.bidder"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.bidder},on:{input:function(a){a.target.composing||t.$set(e,"bidder",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tenderPrice,expression:"item.tenderPrice"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.tenderPrice},on:{input:function(a){a.target.composing||t.$set(e,"tenderPrice",a.target.value)}}})]),t._v(" "),a("td",{staticClass:"secondtr",attrs:{align:"center",width:"16.66%",height:"20"}},[a("input",{staticClass:"del",attrs:{type:"button",value:"删除"},on:{click:function(e){t.delatetr(r)}}})])])})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),a("el-button",[t._v("取消")])],1)],1),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")])],1)],1)},staticRenderFns:[]};var pt=a("VU/8")(mt,ut,!1,function(t){a("D/Ns")},null,null).exports,ft={data:function(){var t;return t={name:"usermanageinfo",staffId:null},C()(t,"name",null),C()(t,"mobile",null),C()(t,"email",null),C()(t,"comment",null),t},props:["childMsg"],created:function(){var t=this,e=this.childMsg;this.$http.UserDetail(e).then(function(e){console.log(e),t.staffId=e.data.data.staffId,t.name=e.data.data.name,t.mobile=e.data.data.mobile,t.email=e.data.data.email,t.comment=e.data.data.staffId})},methods:{cancel:function(){this.$emit("usermanagelist",!1)}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"usermanagezhezhao"}},[a("div",{attrs:{id:"usermanagelist"}},[a("table",{staticStyle:{border:"1px solid #8ba7e3"},attrs:{cellSpacing:"1",cellPadding:"5",width:"680",align:"center",bgColor:"#eeeeee",border:"0"}},[a("tr",[a("td",{attrs:{align:"center",colSpan:"4"}},[a("font",{attrs:{face:"宋体",size:"2"}},[a("strong",[t._v("用户信息")])])],1)]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("工号:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("p",{attrs:{id:"staffId"}},[t._v(t._s(t.staffId))])]),t._v(" "),a("td",{attrs:{width:"18%",align:"center",bgColor:"#f5fafe"}},[t._v("姓名:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("p",{attrs:{id:"name"}},[t._v(t._s(t.name))])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("手机号:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("p",{attrs:{id:"mobile"}},[t._v(t._s(t.mobile))])]),t._v(" "),a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("邮箱:")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff"}},[a("p",{attrs:{id:"email"}},[t._v(t._s(t.email))])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe"}},[t._v("备注：")]),t._v(" "),a("td",{attrs:{bgColor:"#ffffff",colSpan:"3"}},[a("div",{staticStyle:{height:"100px"},attrs:{id:"comment"}},[t._v("\n                \t"+t._s(t.comment)+"\n                ")])])]),t._v(" "),a("tr",[a("td",{attrs:{align:"center",bgColor:"#f5fafe",colSpan:"4"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)],1)])])])])},staticRenderFns:[]};var gt={components:{usermanageinfo:a("VU/8")(ft,vt,!1,function(t){a("BtZK")},null,null).exports},data:function(){return{usermanageinfo:!1,id:null,totalNum:10,currentPage1:1,currentPage2:5,currentPage3:5,currentPage4:4,rows:10,page:1,usermanageData:[]}},created:function(){var t=this,e=new FormData;e.append("rows",t.rows),e.append("page",t.page),this.$http.UserListUrl(e).then(function(e){console.log(e);for(var a=e.data.rows,r=0;r<a.length;r++)a[r].createDate=t.NumConvertUtil.formatDate2(a[r].createDate);t.usermanageData=a,t.totalNum=e.data.total})},methods:{handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},handleClick:function(t){this.usermanageinfo=!0,this.id=t.id},usermanagelist:function(t){this.usermanageinfo=t}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:""}},[a("h5",[t._v("应用系统列表")]),t._v(" "),a("el-table",{attrs:{data:t.usermanageData,id:"usermanageData",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"工号",width:"200",height:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workplace",label:"工作地点",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e}}})],1),t._v(" "),t.usermanageinfo?a("usermanageinfo",{attrs:{"child-msg":t.id},on:{usermanagelist:t.usermanagelist}}):t._e()],1)},staticRenderFns:[]};var bt=a("VU/8")(gt,ht,!1,function(t){a("CU7x")},null,null).exports,yt={data:function(){return{staffId:"",adduserform:{},regionCategoryList:[],areaCategoryList:[]}},methods:{onSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(console.log(e),t.adduserform.staffId=t.staffId,t.$http.UserAddUrl(t.adduserform).then(function(e){console.log(e),t.$router.push({path:"usermanagement"})}).catch(function(t){console.log(t)}))})}},created:function(){var t=this;this.$http.staffIdGenerateUrl().then(function(e){console.log(e),t.staffId=e.data}),this.$http.MarketSearchCategory().then(function(e){console.log(e),t.regionCategoryList=e.data.regionCategoryList,t.areaCategoryList=e.data.areaCategoryList})}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adduser"}},[a("h5",[t._v("添加用户")]),t._v(" "),a("el-form",{ref:"addPersonInfoform",attrs:{model:t.adduserform,"label-width":"80px",size:"mini"}},[a("table",{attrs:{id:"adduserTab"}},[a("tr",[a("td",[a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{value:t.staffId,readonly:""}})],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:t.adduserform.name,callback:function(e){t.$set(t.adduserform,"name",e)},expression:"adduserform.name"}})],1)],1)]),t._v(" "),a("tr",[a("td",{staticClass:"tipstd"},[a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"password",name:"password"},model:{value:t.adduserform.pwd,callback:function(e){t.$set(t.adduserform,"pwd",e)},expression:"adduserform.pwd"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"tipsinfo"},[t._v(t._s(t.errors.first("password")))])],1),t._v(" "),a("td",{staticClass:"tipstd"},[a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{type:"password",name:"pwdConfirm"},model:{value:t.adduserform.pwdConfirm,callback:function(e){t.$set(t.adduserform,"pwdConfirm",e)},expression:"adduserform.pwdConfirm"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("pwdConfirm"),expression:"errors.has('pwdConfirm')"}],staticClass:"tipsinfo"},[t._v("两次输入的密码不一致")])],1)]),t._v(" "),a("tr",[a("td",{staticClass:"tipstd"},[a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{name:"email"},model:{value:t.adduserform.email,callback:function(e){t.$set(t.adduserform,"email",e)},expression:"adduserform.email"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"tipsinfo"},[t._v(t._s(t.errors.first("email")))])],1),t._v(" "),a("td",{staticClass:"tipstd"},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"}],attrs:{name:"phone"},model:{value:t.adduserform.mobile,callback:function(e){t.$set(t.adduserform,"mobile",e)},expression:"adduserform.mobile"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"tipsinfo"},[t._v(t._s(t.errors.first("phone")))])],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"所属地区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.adduserform.region,callback:function(e){t.$set(t.adduserform,"region",e)},expression:"adduserform.region"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.regionCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"所属分区"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.adduserform.area,callback:function(e){t.$set(t.adduserform,"area",e)},expression:"adduserform.area"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),t._l(t.areaCategoryList,function(t){return a("el-option",{attrs:{label:t.category,value:t.id}})})],2)],1)],1)]),t._v(" "),a("tr",[a("td",[a("el-form-item",{attrs:{label:"入职时间"}},[a("el-select",{attrs:{placeholder:"无"},model:{value:t.adduserform.isDuty,callback:function(e){t.$set(t.adduserform,"isDuty",e)},expression:"adduserform.isDuty"}},[a("el-option",{attrs:{label:"无",value:""}}),t._v(" "),a("el-option",{attrs:{label:"在职",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"离职",value:"2"}})],1)],1)],1),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"录入人"}},[a("el-input")],1)],1)])]),t._v(" "),a("div",{staticClass:"text-ADDPersonInformationbox"},[a("el-form-item",{staticClass:"box",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.adduserform.comment,callback:function(e){t.$set(t.adduserform,"comment",e)},expression:"adduserform.comment"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),a("el-button",[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Ct=a("VU/8")(yt,_t,!1,function(t){a("ojmb")},null,null).exports;r.default.use(n.a);var wt=new n.a({routes:[{path:"/",name:"HelloWorld",component:l},{path:"/home",name:"home",component:f,children:[{path:"marketInformation",name:"marketInformation",component:h},{path:"marketTracking",name:"marketTracking",component:N},{path:"relationship",name:"relationship",component:A},{path:"trackinginformation",name:"trackinginformation",component:B},{path:"addpersoninfomation",name:"addpersoninfomation",component:O},{path:"contractinfo",name:"contractinfo",component:W},{path:"contractlist",name:"contractlist",component:X},{path:"addcontract",name:"addcontract",component:tt},{path:"BiddingInfo",name:"BiddingInfo",component:rt},{path:"Biddinglist",name:"Biddinglist",component:ct},{path:"addBidding",name:"addBidding",component:pt},{path:"usermanagement",name:"usermanagement",component:bt},{path:"adduser",name:"adduser",component:Ct}]}]}),xt=a("mtWM"),kt=a.n(xt);kt.a.defaults.baseURL="http://47.94.131.160:8080",kt.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var Lt={MonthVisit:function(){return kt.a.get("/market/chart/month.json")},seasonVisit:function(){return kt.a.get("/market/chart/quarter.json")},diquVisit:function(){return kt.a.get("/market/chart/area.json")},pianquVisit:function(){return kt.a.get("/market/chart/region.json")},Contractincome:function(){return kt.a.get("/contract/chart/income.json")},Contractpayment:function(){return kt.a.get("/contract/chart/paid.json")},workprogress:function(){return kt.a.get("/contract/chart/work/region.json")},Productincome:function(){return kt.a.get("/contract/chart/product.json")},diquincome:function(){return kt.a.get("/contract/chart/area.json")},fenquincome:function(){return kt.a.get("/contract/chart/region.json")},yearWarrantygold:function(){return kt.a.get("/contract/chart/deposit/year.json")},Warrantygoldreturn:function(){return kt.a.get("/contract/chart/deposit/back.json")},biddingNum:function(){return kt.a.get("/bid/chart/file/amount.json")},biddingMoney:function(){return kt.a.get("/bid/chart/total/prices.json")},biddingProportion:function(){return kt.a.get("bid/chart/win/weight.json")},bidCharTenderWeight:function(){return kt.a.get("/bid/chart/tender/weight.json")},bidChartWinTotalWeight:function(){return kt.a.get("bid/chart/total/weight.json")},bidChartWinWeight:function(){return kt.a.get("bid/chart/category/weight.json")},getMarketList:function(t){return kt.a.post("/market/list.json",t,{headers:{"Content-Type":"multiple/form-data"}})},getMarketTypeinfo:function(){return kt.a.get("/market/select/category.json")},getMarketdetail:function(t){return kt.a.get("/market/detail.json",{params:{id:t}})},ContactListUrl:function(t){return kt.a.post("/contacts/list.json",t,{headers:{"Content-Type":"multiple/form-data"}})},ContactsdetailUrl:function(t){return kt.a.get("/contacts/detail.json",{params:{id:t}})},Investigator:function(){return kt.a.post("user/market/list.json")},SaveMarketUrl:function(t){return kt.a.post("/market/save.json",{surveyObject:t.surveyObject,responsiblePerson:t.responsiblePerson,workCategory:t.workCategory,feedbackCategory:t.feedbackCategory,area:t.area,region:t.region,surveyStartTime:t.surveyStartTime,surveyDays:t.surveyDays,workContent:t.workContent,feedback:t.feedback,comment:t.comment,investigators:t.investigators,id:t.id})},marketDetail:function(t){return kt.a.post("/market/detail.json",t,{headers:{"Content-Type":"multiple/form-data"}})},updateMarketUrl:function(t){return kt.a.post("/market/update.json",{surveyObject:t.surveyObject,responsiblePerson:t.responsiblePerson,workCategory:t.workCategory,feedbackCategory:t.feedbackCategory,area:t.area,region:t.region,surveyStartTime:t.surveyStartTime,surveyDays:t.surveyDays,workContent:t.workContent,feedback:t.feedback,comment:t.comment,investigators:t.investigators,id:t.id})},Contractlist:function(t){return kt.a.post("/contract/list.json",t)},ContractTypeinfo:function(){return kt.a.get("contract/select/category.json")},ContractdetailUrl:function(t){return kt.a.get("/contract/detail.json",{params:{id:t}})},ContractAddUrl:function(t){return kt.a.post("/contract/add.json",{id:t.id,createDate:t.createDate,contractCode:t.contractCode,contractCompany:t.contractCompany,projectName:t.projectName,depositBackTime:t.depositBackTime,completeAmount:t.completeAmount,totalQuantity:t.totalQuantity,paid:t.paid,totalPrice:t.totalPrice,preSignDate:t.preSignDate,signDate:t.signDate,deposit:t.deposit,area:t.area,region:t.region,taxCategory:t.taxCategory,note:t.note,comment:t.comment,paymentList:t.paymentList,contractProductList:t.contractProductList})},ContractUpdateUrl:function(t){return kt.a.post("contract/update.json",{id:t.id,contractCode:t.contractCode,contractCompany:t.contractCompany,projectName:t.projectName,depositBackTime:t.depositBackTime,completeAmount:t.completeAmount,totalQuantity:t.totalQuantity,paid:t.paid,totalPrice:t.totalPrice,preSignDate:t.preSignDate,signDate:t.signDate,deposit:t.deposit,area:t.area,region:t.region,taxCategory:t.taxCategory,note:t.note,comment:t.comment,paymentList:t.paymentList,contractProductList:t.contractProductList,amount:t.amount,summation:t.summation,createDate:t.createDate})},bidListUrl:function(t){return kt.a.post("bid/list.json",t)},contractSelectCategory:function(){return kt.a.post("contract/select/category.json")},bidAuditCategory:function(){return kt.a.post("/category/bid/audit.json")},bidDetail:function(t){return kt.a.get("/bid/detail.json",{params:{id:t}})},allCategory:function(){return kt.a.post("/category/all.json")},bidAddUrl:function(t){return kt.a.post("/bid/add.json",{area:t.area,bidAmount:t.bidAmount,bidCompany:t.bidCompany,bidProject:t.bidProject,bidSummary:t.bidSummary,bidTime:t.bidTime,comment:t.comment,id:t.id,region:t.region,status:t.status,bidPkgList:t.bidPkgList})},bidUpdateUrl:function(t){return kt.a.post("/bid/update.json",{area:t.area,bidAmount:t.bidAmount,bidCompany:t.bidCompany,bidProject:t.bidProject,bidSummary:t.bidSummary,bidTime:t.bidTime,comment:t.comment,id:t.id,region:t.region,status:t.status,bidPkgList:t.bidPkgList})},UserListUrl:function(t){return kt.a.get("/user/list.json",t,{headers:{"Content-Type":"multiple/form-data"}})},UserDetail:function(t){return kt.a.get("/user/detail.json",{params:{id:t}})},MarketSearchCategory:function(){return kt.a.post("market/select/category.json")},staffIdGenerateUrl:function(){return kt.a.post("user/staff/generate.json")},UserAddUrl:function(t){return kt.a.post("user/add.json",{area:t.area,comment:"",isDuty:"",mobile:t.mobile,name:t.name,pwd:t.pwd,pwdConfirm:t.pwdConfirm,region:t.region,staffId:t.staffId})},contactAddUrl:function(t){return kt.a.post("contacts/add.json",{comment:t.comment,company:t.company,email:t.email,id:t.id,importanceLevel:t.importanceLevel,intro:t.intro,job:t.job,mobile:t.mobile,name:t.name,inputUser:t.inputUser,securityLevel:t.securityLevel})},contactUpdateUrl:function(t){return kt.a.post("/contacts/update.json",{comment:t.comment,company:t.company,email:t.email,id:t.id,importanceLevel:t.importanceLevel,intro:t.intro,job:t.job,mobile:t.mobile,name:t.name,inputUser:t.inputUser,securityLevel:t.securityLevel})},downloadWebFile:"http://47.94.131.160:8080/web/file/download/",imageFileUrl:"http://hk-energy02.oss-cn-beijing.aliyuncs.com/",previewFileUrl:"http://ow365.cn/?i=15238&furl=http://hk-energy02.oss-cn-beijing.aliyuncs.com/",uploadServerFile:"http://47.94.131.160:8080/web/file/upload/",initFile:"http://47.94.131.160:8080/web/file/init/",deleteFile:"http://47.94.131.160:8080/web/file/delete/"},Pt=a("XLwt"),St=a.n(Pt),Nt=(a("j1ja"),a("sUu7")),Dt=a("+8+3"),$t=a.n(Dt);Nt.a.addLocale($t.a);r.default.use(Nt.b,{locale:"zh_CN",fieldsBagName:"veefields"});Nt.a.updateDictionary({zh_CN:{messages:{email:function(){return"请输入正确的邮箱格式"},required:function(t){return"请输入"+t}},attributes:{email:"邮箱",password:"密码",name:"账号",phone:"手机"}}}),Nt.a.extend("phone",{messages:{zh_CN:function(t){return t+"必须是11位手机号码"}},validate:function(t){return 11==t.length&&/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(t)}});var Tt={getShortMoney:function(t){return Math.round(t/1e4*100)/100+"万"},getNumConvertMoney:function(t){if(null!=t){var e=t.toString(),a="",r=0;if(-1==e.indexOf(".")){for(var o=e.length-1;o>=0;o--)a=r%3==0&&0!=r?e.charAt(o)+","+a:e.charAt(o)+a,r++;e=a+".00"}else{for(o=e.indexOf(".")-1;o>=0;o--)a=r%3==0&&0!=r?e.charAt(o)+","+a:e.charAt(o)+a,r++;e=a+(e+"00").substr((e+"00").indexOf("."),3)}}return e},numAdd:function(t,e){var a,r,o;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return((t*(a=Math.pow(10,Math.max(r,o)))+e*a)/a).toFixed(r>=o?r:o)},numSub:function(t,e){var a,r,o;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return((t*(a=Math.pow(10,Math.max(r,o)))-e*a)/a).toFixed(r>=o?r:o)},numMulti:function(t,e){var a=0;try{a+=t.toString().split(".")[1].length}catch(t){}try{a+=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))*Number(e.toString().replace(".",""))/Math.pow(10,a)},numDiv:function(t,e){var a=0,r=0;try{a=t.toString().split(".")[1].length}catch(t){a=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*pow(10,r-a)},formatNum:function(t){var e="",a=0;if(-1==t.indexOf(".")){for(var r=t.length-1;r>=0;r--)e=a%3==0&&0!=a?t.charAt(r)+","+e:t.charAt(r)+e,a++;t=e+".00",console.log(t)}else{for(r=t.indexOf(".")-1;r>=0;r--)e=a%3==0&&0!=a?t.charAt(r)+","+e:t.charAt(r)+e,a++;t=e+(t+"00").substr((t+"00").indexOf("."),3),console.log(t)}},formatDate2:function(t){if(t){var e=new Date;e.setTime(t);var a=e.getFullYear(),r=e.getMonth(),o=e.getDate();return a+"-"+(r+1<10?"0"+(r+1):r+1)+"-"+(o<10?"0"+o:o)}}};var Ft=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},jt=a("zL8q"),Mt=a.n(jt),At=(a("tvR6"),a("7t+N")),Ut=a.n(At);Object.defineProperty(r.default.prototype,"$http",{value:Lt}),Object.defineProperty(r.default.prototype,"echarts",{value:St.a}),Object.defineProperty(r.default.prototype,"NumConvertUtil",{value:Tt}),Object.defineProperty(r.default.prototype,"uuid",{value:Ft}),Object.defineProperty(r.default.prototype,"$",{value:Ut.a}),r.default.use(Mt.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:wt,components:{App:i},template:"<App/>",render:function(t){return t(i)}})},NsTw:function(t,e){},PbOw:function(t,e){},QUQU:function(t,e){},UX6T:function(t,e){},cxj1:function(t,e){},eCc3:function(t,e){},eomj:function(t,e){},ilxe:function(t,e){},j4pg:function(t,e){},lYk6:function(t,e){},ojmb:function(t,e){},qNc9:function(t,e){},"qOq/":function(t,e){},tvR6:function(t,e){},z62K:function(t,e){}},[0]);
//# sourceMappingURL=app.87fce50ee5e98ba1541a.js.map